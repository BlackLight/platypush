(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52804492"],{"021b":function(t,e,n){"use strict";n("058f")},"03eb":function(t,e,n){"use strict";n("c3da")},"058f":function(t,e,n){},"0d41":function(t,e,n){"use strict";n.r(e);n("c975"),n("d81d"),n("b0c0"),n("d3b7"),n("ddb0");var a=n("2909"),c=n("7a23"),s=Object(c["K"])("data-v-50c7a9d4");Object(c["u"])("data-v-50c7a9d4");var i={class:"nav-container"},l={class:"view-container"},r={class:"track-info-container"},o={key:0,class:"track-info-content"},u={key:0,class:"row file"},d=Object(c["h"])("div",{class:"col-3 attr"},"File",-1),f={key:1,class:"row artist"},b=Object(c["h"])("div",{class:"col-3 attr"},"Artist",-1),p={class:"col-9 value"},v={key:2,class:"row track-title"},h=Object(c["h"])("div",{class:"col-3 attr"},"Title",-1),O={key:3,class:"row album"},j=Object(c["h"])("div",{class:"col-3 attr"},"Album",-1),m={class:"col-9 value"},k={key:4,class:"row date"},y=Object(c["h"])("div",{class:"col-3 attr"},"Date",-1),g={key:5,class:"row duration"},C=Object(c["h"])("div",{class:"col-3 attr"},"Duration",-1),x={class:"playlists-modal-container"},w={class:"filter"},$={class:"playlists"},T=Object(c["h"])("i",{class:"fa fa-plus"},null,-1),P=Object(c["g"])(" Â  Add ");Object(c["s"])();var S=s((function(t,e,n,S,I,D){var A=Object(c["z"])("Loading"),E=Object(c["z"])("Nav"),R=Object(c["z"])("Playlist"),F=Object(c["z"])("Playlists"),M=Object(c["z"])("MediaView"),_=Object(c["z"])("Modal"),N=Object(c["z"])("FormFooter");return Object(c["r"])(),Object(c["e"])(c["a"],null,[n.loading?(Object(c["r"])(),Object(c["e"])(A,{key:0})):(Object(c["r"])(),Object(c["e"])(M,{key:1,"plugin-name":n.pluginName,status:n.status,track:D.track,onPlay:e[19]||(e[19]=function(e){return t.$emit("play",e)}),onPause:e[20]||(e[20]=function(e){return t.$emit("pause")}),onStop:e[21]||(e[21]=function(e){return t.$emit("stop")}),onPrevious:e[22]||(e[22]=function(e){return t.$emit("previous")}),onNext:e[23]||(e[23]=function(e){return t.$emit("next")}),onSetVolume:e[24]||(e[24]=function(e){return t.$emit("set-volume",e)}),onSeek:e[25]||(e[25]=function(e){return t.$emit("seek",e)}),onConsume:e[26]||(e[26]=function(e){return t.$emit("consume",e)}),onRepeat:e[27]||(e[27]=function(e){return t.$emit("repeat",e)}),onRandom:e[28]||(e[28]=function(e){return t.$emit("random",e)})},{default:s((function(){return[Object(c["h"])("main",null,[Object(c["h"])("div",i,[Object(c["h"])(E,{"selected-view":I.selectedView,onInput:e[1]||(e[1]=function(t){return I.selectedView=t})},null,8,["selected-view"])]),Object(c["h"])("div",l,["playing"===I.selectedView?(Object(c["r"])(),Object(c["e"])(R,{key:0,tracks:n.tracks,status:n.status,loading:n.loading,onPlay:e[2]||(e[2]=function(e){return t.$emit("play",e)}),onClear:e[3]||(e[3]=function(e){return t.$emit("clear")}),onSwap:e[4]||(e[4]=function(e){return t.$emit("swap-tracks",e)}),onAdd:e[5]||(e[5]=function(e){return t.$emit("add-to-tracklist",e)}),onRemove:e[6]||(e[6]=function(e){return t.$emit("remove-from-tracklist",e)}),onMove:e[7]||(e[7]=function(e){return t.$emit("tracklist-move",e)}),onSave:e[8]||(e[8]=function(e){return t.$emit("tracklist-save",e)}),onTrackInfo:e[9]||(e[9]=function(e){return t.$emit("track-info",e)}),onAddToPlaylist:D.openAddToPlaylist},null,8,["tracks","status","loading","onAddToPlaylist"])):"playlists"===I.selectedView?(Object(c["r"])(),Object(c["e"])(F,{key:1,playlists:n.playlists,loading:n.loading,"edited-playlist":n.editedPlaylist,tracks:n.editedPlaylistTracks,onPlay:e[10]||(e[10]=function(e){return t.$emit("play-playlist",e)}),onLoad:e[11]||(e[11]=function(e){return t.$emit("load-playlist",e)}),onRemove:e[12]||(e[12]=function(e){return t.$emit("remove-playlist",e)}),onPlaylistEdit:e[13]||(e[13]=function(e){return t.$emit("playlist-edit",e)}),onLoadTrack:e[14]||(e[14]=function(e){return t.$emit("add-to-tracklist-from-edited-playlist",e)}),onRemoveTrack:e[15]||(e[15]=function(e){return t.$emit("remove-from-playlist",e)}),onTrackInfo:e[16]||(e[16]=function(e){return t.$emit("track-info",e)}),onPlaylistAdd:e[17]||(e[17]=function(e){return t.$emit("playlist-add",e)}),onAddToPlaylist:D.openAddToPlaylist,onTrackMove:e[18]||(e[18]=function(e){return t.$emit("playlist-track-move",e)})},null,8,["playlists","loading","edited-playlist","tracks","onAddToPlaylist"])):Object(c["f"])("",!0)])])]})),_:1},8,["plugin-name","status","track"])),Object(c["h"])("div",r,[Object(c["h"])(_,{title:"Track info",ref:"trackInfo"},{default:s((function(){return[n.trackInfo?(Object(c["r"])(),Object(c["e"])("div",o,[n.trackInfo.file?(Object(c["r"])(),Object(c["e"])("div",u,[d,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.file)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.artist?(Object(c["r"])(),Object(c["e"])("div",f,[b,Object(c["h"])("div",p,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(n.trackInfo.artist),onClick:e[29]||(e[29]=Object(c["J"])((function(e){return t.$emit("search",{artist:n.trackInfo.artist})}),["stop"]))},null,8,["href","textContent"])])])):Object(c["f"])("",!0),n.trackInfo.title?(Object(c["r"])(),Object(c["e"])("div",v,[h,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.title)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.album?(Object(c["r"])(),Object(c["e"])("div",O,[j,Object(c["h"])("div",m,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(n.trackInfo.album),onClick:e[30]||(e[30]=Object(c["J"])((function(e){return t.$emit("search",{album:n.trackInfo.album})}),["stop"]))},null,8,["href","textContent"])])])):Object(c["f"])("",!0),n.trackInfo.date?(Object(c["r"])(),Object(c["e"])("div",k,[y,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(n.trackInfo.date)},null,8,["textContent"])])):Object(c["f"])("",!0),n.trackInfo.time?(Object(c["r"])(),Object(c["e"])("div",g,[C,Object(c["h"])("div",{class:"col-9 value",textContent:Object(c["C"])(t.convertTime(n.trackInfo.time))},null,8,["textContent"])])):Object(c["f"])("",!0)])):Object(c["f"])("",!0)]})),_:1},512)]),Object(c["h"])("div",x,[Object(c["h"])(_,{title:"Playlists",ref:"playlistsModal",onClose:e[33]||(e[33]=function(t){return I.addToPlaylistTrack=null}),onOpen:e[34]||(e[34]=function(t){return I.selectedPlaylists=Object(a["a"])(Array(n.playlists.length).keys()).map((function(){return!1}))})},{default:s((function(){return[Object(c["h"])("div",w,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[31]||(e[31]=function(t){return I.playlistFilter=t})},null,512),[[c["F"],I.playlistFilter]])])]),Object(c["h"])("div",$,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.playlists,(function(t,e){var n;return Object(c["r"])(),Object(c["e"])("label",{class:["row playlist",{hidden:(null===(n=I.playlistFilter)||void 0===n?void 0:n.length)>0&&t.name.toLowerCase().indexOf(I.playlistFilter.toLowerCase())<0}],key:e},[Object(c["h"])("input",{type:"checkbox",checked:I.selectedPlaylists[e],onChange:function(t){return I.selectedPlaylists[e]=t.target.checked}},null,40,["checked","onChange"]),Object(c["h"])("span",{class:"name",textContent:Object(c["C"])(t.name)},null,8,["textContent"])],2)})),128))]),Object(c["h"])(N,null,{default:s((function(){return[Object(c["h"])("button",{onClick:e[32]||(e[32]=function(){return D.addToPlaylist.apply(D,arguments)})},[T,P])]})),_:1})]})),_:1},512)])],64)})),I=(n("99af"),n("4de4"),n("a9e3"),n("96cf"),n("1da1")),D=Object(c["K"])("data-v-2495ce8a");Object(c["u"])("data-v-2495ce8a");var A={class:"form-footer"};Object(c["s"])();var E=D((function(t,e,n,a,s,i){return Object(c["r"])(),Object(c["e"])("div",A,[Object(c["y"])(t.$slots,"default")])})),R={name:"FormFooter"};n("03eb");R.render=E,R.__scopeId="data-v-2495ce8a";var F=R,M=n("3a5e"),_=n("714b"),N=(n("a15b"),{name:"Utils",methods:{convertTime:function(t){t=parseFloat(t);var e={};e.h=""+parseInt(t/3600),e.m=""+parseInt(t/60-60*e.h),e.s=""+parseInt(t-(3600*e.h+60*e.m));for(var n=0,a=["m","s"];n<a.length;n++){var c=a[n];parseInt(e[c])<10&&(e[c]="0"+e[c])}var s=[];return parseInt(e.h)&&s.push(e.h),s.push(e.m,e.s),s.join(":")}}}),L=N,z=Object(c["K"])("data-v-b6f41ec8");Object(c["u"])("data-v-b6f41ec8");var V={class:"media-container"},K={class:"view-container"},J={class:"controls-container"};Object(c["s"])();var H=z((function(t,e,n,a,s,i){var l=Object(c["z"])("Controls");return Object(c["r"])(),Object(c["e"])("div",V,[Object(c["h"])("div",K,[Object(c["y"])(t.$slots,"default")]),Object(c["h"])("div",J,[Object(c["h"])(l,{status:n.status,track:n.track,onPlay:e[1]||(e[1]=function(e){return t.$emit("play",e)}),onPause:e[2]||(e[2]=function(e){return t.$emit("pause",e)}),onStop:e[3]||(e[3]=function(e){return t.$emit("stop")}),onPrevious:e[4]||(e[4]=function(e){return t.$emit("previous")}),onNext:e[5]||(e[5]=function(e){return t.$emit("next")}),onSeek:e[6]||(e[6]=function(e){return t.$emit("seek",e)}),onSetVolume:e[7]||(e[7]=function(e){return t.$emit("set-volume",e)}),onConsume:e[8]||(e[8]=function(e){return t.$emit("consume",e)}),onRepeat:e[9]||(e[9]=function(e){return t.$emit("repeat",e)}),onRandom:e[10]||(e[10]=function(e){return t.$emit("random",e)})},null,8,["status","track"])])])})),U=(n("38cf"),Object(c["K"])("data-v-0d70c0de"));Object(c["u"])("data-v-0d70c0de");var q={class:"row"},B=Object(c["h"])("div",{class:"col-3"},null,-1),W={class:"col-6"},Q={class:"buttons"},G=Object(c["h"])("i",{class:"icon fa fa-step-backward"},null,-1),X=Object(c["h"])("i",{class:"icon fa fa-stop"},null,-1),Y=Object(c["h"])("i",{class:"icon fa fa-step-forward"},null,-1),Z=Object(c["h"])("div",{class:"col-3"},null,-1),tt={class:"row"},et={class:"col-9 volume-container"},nt={class:"col-1"},at=Object(c["h"])("i",{class:"icon fa fa-volume-up"},null,-1),ct={class:"col-11 volume-slider"},st={class:"col-3 list-controls"},it=Object(c["h"])("i",{class:"icon fa fa-utensils"},null,-1),lt=Object(c["h"])("i",{class:"icon fa fa-random"},null,-1),rt=Object(c["h"])("i",{class:"icon fa fa-redo"},null,-1),ot={class:"row"},ut={class:"col-s-2 col-m-1 time"},dt={class:"col-s-8 col-m-10"},ft={class:"col-s-2 col-m-1 time"},bt={class:"controls"},pt={class:"playback-controls mobile tablet col-2"},vt={key:0,class:"icon play-pause fa fa-pause"},ht={key:1,class:"icon play-pause fa fa-play"},Ot={class:"track-container col-s-8 col-m-8 col-l-3"},jt={key:0,class:"track-info"},mt={class:"title"},kt={key:0,class:"artist"},yt={class:"playback-controls desktop col-6"},gt={class:"row buttons"},Ct=Object(c["h"])("i",{class:"icon fa fa-step-backward"},null,-1),xt={key:0,class:"icon play-pause fa fa-pause"},wt={key:1,class:"icon play-pause fa fa-play"},$t=Object(c["h"])("i",{class:"icon fa fa-stop"},null,-1),Tt=Object(c["h"])("i",{class:"icon fa fa-step-forward"},null,-1),Pt={class:"row"},St={class:"col-1 time"},It={class:"col-10"},Dt={class:"col-1 time"},At={class:"col-2 pull-right mobile tablet right-buttons"},Et={class:"col-3 pull-right desktop"},Rt={class:"row list-controls"},Ft=Object(c["h"])("i",{class:"icon fa fa-utensils"},null,-1),Mt=Object(c["h"])("i",{class:"icon fa fa-random"},null,-1),_t=Object(c["h"])("i",{class:"icon fa fa-redo"},null,-1),Nt={class:"row volume-container"},Lt={class:"col-2"},zt=Object(c["h"])("i",{class:"icon fa fa-volume-up"},null,-1),Vt={class:"col-10"};Object(c["s"])();var Kt=U((function(t,e,n,a,s,i){var l,r=Object(c["z"])("Slider");return Object(c["r"])(),Object(c["e"])(c["a"],null,[Object(c["h"])("div",{class:["extension fade-in",{hidden:!s.expanded}]},[Object(c["h"])("div",q,[B,Object(c["h"])("div",W,[Object(c["h"])("div",Q,[n.buttons.previous?(Object(c["r"])(),Object(c["e"])("button",{key:0,onClick:e[1]||(e[1]=function(e){return t.$emit("previous")}),title:"Play previous track"},[G])):Object(c["f"])("",!0),n.buttons.stop&&"stop"!==n.status.state?(Object(c["r"])(),Object(c["e"])("button",{key:1,onClick:e[2]||(e[2]=function(e){return t.$emit("stop")}),title:"Stop playback"},[X])):Object(c["f"])("",!0),n.buttons.next?(Object(c["r"])(),Object(c["e"])("button",{key:2,onClick:e[3]||(e[3]=function(e){return t.$emit("next")}),title:"Play next track"},[Y])):Object(c["f"])("",!0)])]),Z]),Object(c["h"])("div",tt,[Object(c["h"])("div",et,[Object(c["h"])("div",nt,[Object(c["h"])("button",{disabled:null==n.status.muted,onClick:e[4]||(e[4]=function(e){return t.$emit(n.status.muted?"unmute":"mute")})},[at],8,["disabled"])]),Object(c["h"])("div",ct,[Object(c["h"])(r,{value:n.status.volume,range:n.volumeRange,disabled:null==n.status.volume,onMouseup:e[5]||(e[5]=function(e){return t.$emit("set-volume",e.target.value)})},null,8,["value","range","disabled"])])]),Object(c["h"])("div",st,[n.buttons.consume?(Object(c["r"])(),Object(c["e"])("button",{key:0,onClick:e[6]||(e[6]=function(e){return t.$emit("consume",!n.status.consume)}),class:{enabled:n.status.consume},title:"Toggle consume mode"},[it],2)):Object(c["f"])("",!0),n.buttons.random?(Object(c["r"])(),Object(c["e"])("button",{key:1,onClick:e[7]||(e[7]=function(e){return t.$emit("random",!n.status.random)}),class:{enabled:n.status.random},title:"Toggle shuffle"},[lt],2)):Object(c["f"])("",!0),n.buttons.repeat?(Object(c["r"])(),Object(c["e"])("button",{key:2,onClick:e[8]||(e[8]=function(e){return t.$emit("repeat",!n.status.repeat)}),class:{enabled:n.status.repeat},title:"Toggle repeat"},[rt],2)):Object(c["f"])("",!0)])]),Object(c["h"])("div",ot,[Object(c["h"])("div",ut,[Object(c["h"])("span",{class:"elapsed-time",textContent:Object(c["C"])(null!=s.elapsed&&"stop"!==n.status.state?t.convertTime(s.elapsed):"-:--")},null,8,["textContent"])]),Object(c["h"])("div",dt,[Object(c["h"])(r,{value:s.elapsed,range:[0,i.duration],disabled:!i.duration||"stop"===n.status.state,onMouseup:e[9]||(e[9]=function(e){return t.$emit("seek",e.target.value)})},null,8,["value","range","disabled"])]),Object(c["h"])("div",ft,[Object(c["h"])("span",{class:"total-time",textContent:Object(c["C"])(i.duration&&"stop"!==n.status.state?t.convertTime(i.duration):"-:--")},null,8,["textContent"])])])],2),Object(c["h"])("div",bt,[Object(c["h"])("div",pt,[Object(c["h"])("button",{onClick:e[10]||(e[10]=function(e){return t.$emit("play"===n.status.state?"pause":"play")}),title:"play"===n.status.state?"Pause":"Play"},["play"===n.status.state?(Object(c["r"])(),Object(c["e"])("i",vt)):(Object(c["r"])(),Object(c["e"])("i",ht))],8,["title"])]),Object(c["h"])("div",Ot,[n.track&&"stop"!==(null===(l=n.status)||void 0===l?void 0:l.state)?(Object(c["r"])(),Object(c["e"])("div",jt,[Object(c["h"])("div",mt,[n.track.album?(Object(c["r"])(),Object(c["e"])("a",{key:0,href:"#",textContent:Object(c["C"])(n.track.title),onClick:e[11]||(e[11]=function(e){return t.$emit("search",{album:n.track.album})})},null,8,["textContent"])):(Object(c["r"])(),Object(c["e"])("span",{key:1,textContent:Object(c["C"])(n.track.title)},null,8,["textContent"]))]),n.track.artist?(Object(c["r"])(),Object(c["e"])("div",kt,[Object(c["h"])("a",{href:"#",textContent:Object(c["C"])(n.track.artist),onClick:e[12]||(e[12]=function(e){return t.$emit("search",{artist:n.track.artist})})},null,8,["textContent"])])):Object(c["f"])("",!0)])):Object(c["f"])("",!0)]),Object(c["h"])("div",yt,[Object(c["h"])("div",gt,[n.buttons.previous?(Object(c["r"])(),Object(c["e"])("button",{key:0,onClick:e[13]||(e[13]=function(e){return t.$emit("previous")}),title:"Play previous track"},[Ct])):Object(c["f"])("",!0),Object(c["h"])("button",{onClick:e[14]||(e[14]=function(e){return t.$emit("play"===n.status.state?"pause":"play")}),title:"play"===n.status.state?"Pause":"Play"},["play"===n.status.state?(Object(c["r"])(),Object(c["e"])("i",xt)):(Object(c["r"])(),Object(c["e"])("i",wt))],8,["title"]),n.buttons.stop&&"stop"!==n.status.state?(Object(c["r"])(),Object(c["e"])("button",{key:1,onClick:e[15]||(e[15]=function(e){return t.$emit("stop")}),title:"Stop playback"},[$t])):Object(c["f"])("",!0),n.buttons.next?(Object(c["r"])(),Object(c["e"])("button",{key:2,onClick:e[16]||(e[16]=function(e){return t.$emit("next")}),title:"Play next track"},[Tt])):Object(c["f"])("",!0)]),Object(c["h"])("div",Pt,[Object(c["h"])("div",St,[Object(c["h"])("span",{class:"elapsed-time",textContent:Object(c["C"])(null!=s.elapsed&&"stop"!==n.status.state?t.convertTime(s.elapsed):"-:--")},null,8,["textContent"])]),Object(c["h"])("div",It,[Object(c["h"])(r,{value:s.elapsed,range:[0,i.duration],disabled:!i.duration||"stop"===n.status.state,onMouseup:e[17]||(e[17]=function(e){return t.$emit("seek",e.target.value)})},null,8,["value","range","disabled"])]),Object(c["h"])("div",Dt,[Object(c["h"])("span",{class:"total-time",textContent:Object(c["C"])(i.duration&&"stop"!==n.status.state?t.convertTime(i.duration):"-:--")},null,8,["textContent"])])])]),Object(c["h"])("div",At,[Object(c["h"])("button",{onClick:e[18]||(e[18]=function(t){return s.expanded=!s.expanded}),title:s.expanded?"Show more controls":"Hide extra controls"},[Object(c["h"])("i",{class:["fas",["fa-chevron-".concat(s.expanded?"down":"up")]]},null,2)],8,["title"])]),Object(c["h"])("div",Et,[Object(c["h"])("div",Rt,[n.buttons.consume?(Object(c["r"])(),Object(c["e"])("button",{key:0,onClick:e[19]||(e[19]=function(e){return t.$emit("consume")}),class:{enabled:n.status.consume},title:"Toggle consume mode"},[Ft],2)):Object(c["f"])("",!0),n.buttons.random?(Object(c["r"])(),Object(c["e"])("button",{key:1,onClick:e[20]||(e[20]=function(e){return t.$emit("random")}),class:{enabled:n.status.random},title:"Toggle shuffle"},[Mt],2)):Object(c["f"])("",!0),n.buttons.repeat?(Object(c["r"])(),Object(c["e"])("button",{key:2,onClick:e[21]||(e[21]=function(e){return t.$emit("repeat")}),class:{enabled:n.status.repeat},title:"Toggle repeat"},[_t],2)):Object(c["f"])("",!0)]),Object(c["h"])("div",Nt,[Object(c["h"])("div",Lt,[Object(c["h"])("button",{disabled:null==n.status.muted,onClick:e[22]||(e[22]=function(e){return t.$emit(n.status.muted?"unmute":"mute")})},[zt],8,["disabled"])]),Object(c["h"])("div",Vt,[Object(c["h"])(r,{value:n.status.volume,range:n.volumeRange,disabled:null==n.status.volume,onMouseup:e[23]||(e[23]=function(e){return t.$emit("set-volume",e.target.value)})},null,8,["value","range","disabled"])])])])])],64)})),Jt=n("3e54"),Ht=n("8285"),Ut={name:"Controls",components:{Slider:Ht["a"]},mixins:[Jt["a"],L],emits:["search","previous","next","play","pause","stop","seek","consume","random","repeat","set-volume","mute","unmute"],props:{track:{type:Object},status:{type:Object,default:function(){}},buttons:{type:Object,default:function(){return{previous:!0,next:!0,stop:!0,consume:!0,random:!0,repeat:!0}}},volumeRange:{type:Array,default:function(){return[0,100]}}},data:function(){var t;return{expanded:!1,lastSync:0,elapsed:null===(t=this.status)||void 0===t?void 0:t.elapsed}},computed:{duration:function(){var t,e;return null!=(null===(t=this.status)||void 0===t?void 0:t.duration)?this.status.duration:null===(e=this.track)||void 0===e?void 0:e.duration}},methods:{getTime:function(){return(new Date).getTime()/1e3}},mounted:function(){var t=this,e=this;this.$watch((function(){return e.track}),(function(n){var a;n&&"play"===(null===(a=e.status)||void 0===a?void 0:a.state)||(e.lastSync=t.getTime())})),this.$watch((function(){return e.status}),(function(){e.lastSync=t.getTime()})),setInterval((function(){var n,a;"play"===(null===(n=e.status)||void 0===n?void 0:n.state)&&(e.elapsed=((null===(a=e.status)||void 0===a?void 0:a.elapsed)||0)+Math.round(t.getTime()-e.lastSync))}),1e3)}};n("a922");Ut.render=Kt,Ut.__scopeId="data-v-0d70c0de";var qt=Ut,Bt={name:"View",components:{Controls:qt},emits:["play","pause","stop","next","previous","set-volume","seek","consume","random","repeat"],props:{pluginName:{type:String,required:!0},status:{type:Object,default:function(){}},track:{type:Object}}};n("630a");Bt.render=H,Bt.__scopeId="data-v-b6f41ec8";var Wt=Bt,Qt=Object(c["K"])("data-v-04a75b69"),Gt=Qt((function(t,e,n,a,s,i){return Object(c["r"])(),Object(c["e"])("nav",null,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.views,(function(e,a){return Object(c["r"])(),Object(c["e"])("li",{key:a,title:e.displayName,class:{selected:a===n.selectedView},onClick:function(e){return t.$emit("input",a)}},[Object(c["h"])("i",{class:e.iconClass},null,2)],10,["title","onClick"])})),128))])})),Xt={name:"Nav",emits:["input"],props:{selectedView:{type:String},collapsed:{type:Boolean,default:!1},views:{type:Object,default:function(){return{playing:{iconClass:"fas fa-play",displayName:"Now Playing"},search:{iconClass:"fas fa-search",displayName:"Search"},playlists:{iconClass:"fas fa-list-ul",displayName:"Playlists"},library:{iconClass:"fas fa-compact-disc",displayName:"Library"}}}}}};n("c195");Xt.render=Gt,Xt.__scopeId="data-v-04a75b69";var Yt=Xt,Zt=(n("6062"),n("3ca3"),Object(c["K"])("data-v-6b60a694"));Object(c["u"])("data-v-6b60a694");var te={key:1,class:"playlist fade-in"},ee={class:"header-container"},ne={class:"col-8 filter"},ae={class:"col-4 buttons"},ce=Object(c["h"])("i",{class:"fa fa-plus"},null,-1),se={class:"body",ref:"body"},ie={key:0,class:"no-content"},le={class:"col-10"},re={class:"title"},oe={key:0,class:"artist"},ue={key:1,class:"album"},de={class:"col-2 right-side"},fe={class:"actions"};Object(c["s"])();var be=Zt((function(t,e,n,s,i,l){var r,o=Object(c["z"])("Loading"),u=Object(c["z"])("DropdownItem"),d=Object(c["z"])("Dropdown"),f=Object(c["z"])("MusicHeader");return n.loading?(Object(c["r"])(),Object(c["e"])(o,{key:0})):(Object(c["r"])(),Object(c["e"])("div",te,[Object(c["h"])("div",ee,[Object(c["h"])(f,{ref:"header"},{default:Zt((function(){return[Object(c["h"])("div",ne,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.filter=t})},null,512),[[c["F"],i.filter]])])]),Object(c["h"])("div",ae,[Object(c["h"])("button",{title:"Add track",onClick:e[2]||(e[2]=function(){return l.addTrack.apply(l,arguments)})},[ce]),Object(c["h"])(d,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:Zt((function(){var s,r,o,d,f,b,p;return[Object(c["h"])(u,{text:"Save as playlist","icon-class":"fa fa-save",disabled:!(null===(s=n.tracks)||void 0===s?void 0:s.length),onClick:l.playlistSave},null,8,["disabled","onClick"]),2===(null===(r=i.selectedTracks)||void 0===r?void 0:r.length)?(Object(c["r"])(),Object(c["e"])(u,{key:0,text:"Swap tracks","icon-class":"fa fa-retweet",onClick:e[3]||(e[3]=function(e){return t.$emit("swap",i.selectedTracks)})})):Object(c["f"])("",!0),Object(c["h"])(u,{text:i.selectionMode?"End selection":"Start selection","icon-class":"far fa-check-square",disabled:!(null===(o=n.tracks)||void 0===o?void 0:o.length),onClick:e[4]||(e[4]=function(t){return i.selectionMode=!i.selectionMode})},null,8,["text","disabled"]),Object(c["h"])(u,{text:(null===(d=i.selectedTracks)||void 0===d?void 0:d.length)===(null===(f=n.tracks)||void 0===f?void 0:f.length)?"Unselect all":"Select all","icon-class":"fa fa-check-double",disabled:!(null===(b=n.tracks)||void 0===b?void 0:b.length),onClick:e[5]||(e[5]=function(t){return i.selectedTracks=i.selectedTracks.length===n.tracks.length?[]:Object(a["a"])(Array(n.tracks.length).keys())})},null,8,["text","disabled"]),i.selectedTracks.length>0?(Object(c["r"])(),Object(c["e"])(u,{key:1,text:"Remove track"+(i.selectedTracks.length>1?"s":""),"icon-class":"fa fa-trash",onClick:e[6]||(e[6]=function(e){return t.$emit("remove",Object(a["a"])(new Set(i.selectedTracks)))})},null,8,["text"])):Object(c["f"])("",!0),Object(c["h"])(u,{text:"Clear playlist","icon-class":"fa fa-ban",disabled:!(null===(p=n.tracks)||void 0===p?void 0:p.length),onClick:e[7]||(e[7]=function(e){return t.$emit("clear")})},null,8,["disabled"])]})),_:1})])]})),_:1},512)]),Object(c["h"])("div",se,[(null===(r=n.tracks)||void 0===r?void 0:r.length)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",ie," No tracks are loaded ")),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.tracks,(function(e,s){var r,o,f,b,p;return Object(c["r"])(),Object(c["e"])("div",{class:["row track",{selected:l.selectedTracksSet.has(s),active:(null===(r=n.status)||void 0===r?void 0:r.playingPos)===s,hidden:!l.displayedTracks.has(s)}],onDragstart:function(t){return l.onTrackDragStart(s)},onDragend:function(t){return l.onTrackDragEnd(s)},onDragover:function(t){return l.onTrackDragOver(s)},draggable:"true",key:s,onClick:function(t){return l.onTrackClick(t,s)},onDblclick:function(e){return t.$emit("play",{pos:s})}},[Object(c["h"])("div",le,[Object(c["h"])("div",re,[Object(c["g"])(Object(c["C"])(e.title||"[No Title]")+" ",1),(null===(o=n.status)||void 0===o?void 0:o.playingPos)!==s||"play"!==(null===(f=n.status)||void 0===f?void 0:f.state)&&"pause"!==(null===(b=n.status)||void 0===b?void 0:b.state)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",{key:0,class:["playing-icon",{paused:"pause"===(null===(p=n.status)||void 0===p?void 0:p.state)}]},[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(Object(a["a"])(Array(3).keys()),(function(t){return Object(c["r"])(),Object(c["e"])("span",{key:t})})),128))],2))]),e.artist?(Object(c["r"])(),Object(c["e"])("div",oe,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.artist),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.artist})}),["stop"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0),e.album?(Object(c["r"])(),Object(c["e"])("div",ue,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.album),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.album})}),["stop"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0)]),Object(c["h"])("div",de,[Object(c["h"])("span",{class:"duration",textContent:Object(c["C"])(e.time?t.convertTime(e.time):"-:--")},null,8,["textContent"]),Object(c["h"])("span",fe,[Object(c["h"])(d,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:Zt((function(){return[Object(c["h"])(u,{text:"Play","icon-class":"fa fa-play",onClick:function(e){return t.$emit("play",{pos:s})}},null,8,["onClick"]),Object(c["h"])(u,{text:"Add to playlist","icon-class":"fa fa-list-ul",onClick:function(n){return t.$emit("add-to-playlist",e)}},null,8,["onClick"]),Object(c["h"])(u,{text:"Remove","icon-class":"fa fa-trash",onClick:function(e){return t.$emit("remove",Object(a["a"])(new Set([].concat(Object(a["a"])(i.selectedTracks),[s]))))}},null,8,["onClick"]),Object(c["h"])(u,{text:"Track info","icon-class":"fa fa-info",onClick:function(e){return t.$emit("track-info",n.tracks[s])}},null,8,["onClick"])]})),_:1})])])],42,["onDragstart","onDragend","onDragover","onClick","onDblclick"])})),128))],512)]))})),pe=(n("4160"),n("a434"),n("159b"),Object(c["K"])("data-v-25f0cdf5"));Object(c["u"])("data-v-25f0cdf5");var ve={class:"header"};Object(c["s"])();var he=pe((function(t,e,n,a,s,i){return Object(c["r"])(),Object(c["e"])("div",ve,[Object(c["y"])(t.$slots,"default")])})),Oe={name:"Header"};n("4563");Oe.render=he,Oe.__scopeId="data-v-25f0cdf5";var je=Oe,me=Object(c["K"])("data-v-44aa9863");Object(c["u"])("data-v-44aa9863");var ke={class:"dropdown-container",ref:"container"};Object(c["s"])();var ye=me((function(t,e,n,a,s,i){return Object(c["r"])(),Object(c["e"])("div",ke,[Object(c["h"])("button",{title:n.title,ref:"button",onClick:e[1]||(e[1]=Object(c["J"])((function(){return i.toggle.apply(i,arguments)}),["stop"]))},[n.iconClass?(Object(c["r"])(),Object(c["e"])("i",{key:0,class:["icon",n.iconClass]},null,2)):Object(c["f"])("",!0),n.text?(Object(c["r"])(),Object(c["e"])("span",{key:1,class:"text",textContent:Object(c["C"])(n.text)},null,8,["textContent"])):Object(c["f"])("",!0)],8,["title"]),Object(c["h"])("div",{class:["dropdown fade-in",{hidden:!s.visible}],id:n.id,ref:"dropdown"},[Object(c["y"])(t.$slots,"default")],10,["id"])],512)})),ge={name:"Dropdown",emits:["click"],props:{id:{type:String},items:{type:Array,default:function(){return[]}},iconClass:{type:String},text:{type:String},title:{type:String}},data:function(){return{visible:!1}},methods:{documentClickHndl:function(t){if(this.visible){var e=t.target;while(e){if(e===this.$refs.dropdown.element)return;e=e.parentElement}this.close()}},close:function(){this.visible=!1,document.removeEventListener("click",this.documentClickHndl)},open:function(){var t=this;document.addEventListener("click",this.documentClickHndl),this.visible=!0,setTimeout((function(){var e=t.$refs.dropdown;e.style.left=0,e.style.top=parseFloat(getComputedStyle(t.$refs.button).height)+"px",e.getBoundingClientRect().left>window.innerWidth/2&&(e.style.left=-e.clientWidth+parseFloat(getComputedStyle(t.$refs.button).width)+"px"),e.getBoundingClientRect().top>window.innerHeight/2&&(e.style.top=-e.clientHeight+parseFloat(getComputedStyle(t.$refs.button).height)+"px")}),10)},toggle:function(){this.visible?this.close():this.open()}}};n("b224");ge.render=ye,ge.__scopeId="data-v-44aa9863";var Ce=ge,xe=Object(c["K"])("data-v-607f43da");Object(c["u"])("data-v-607f43da");var we={class:"col-1 icon"};Object(c["s"])();var $e=xe((function(t,e,n,a,s,i){return Object(c["r"])(),Object(c["e"])("div",{class:"row item",onClick:e[1]||(e[1]=function(){return i.clicked.apply(i,arguments)})},[Object(c["h"])("div",we,[n.iconClass?(Object(c["r"])(),Object(c["e"])("i",{key:0,class:n.iconClass},null,2)):Object(c["f"])("",!0)]),Object(c["h"])("div",{class:"col-11 text",textContent:Object(c["C"])(n.text)},null,8,["textContent"])])})),Te={name:"DropdownItem",props:{iconClass:{type:String},text:{type:String},disabled:{type:Boolean,default:!1}},methods:{clicked:function(t){this.$parent.$emit("click",t),this.$parent.visible=!1}}};n("021b");Te.render=$e,Te.__scopeId="data-v-607f43da";var Pe=Te,Se={name:"Playlist",mixins:[L],components:{DropdownItem:Pe,Dropdown:Ce,MusicHeader:je},emits:["play","clear","add","remove","swap","search","move","save","track-info"],props:{tracks:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},status:{type:Object,default:function(){}}},data:function(){return{selectionMode:!1,selectedTracks:[],filter:"",infoTrack:null,sourcePos:null,targetPos:null}},computed:{selectedTracksSet:function(){return new Set(this.selectedTracks)},displayedTracks:function(){var t,e=this,n=Object(a["a"])(Array(this.tracks.length).keys());if(!(null===(t=this.filter)||void 0===t?void 0:t.length))return new Set(n);var c=this,s=(c.filter||"").toLowerCase();return new Set(n.filter((function(t){var n=e.tracks[t];return((null===n||void 0===n?void 0:n.artist)||"").toLowerCase().indexOf(s)>=0||((null===n||void 0===n?void 0:n.title)||"").toLowerCase().indexOf(s)>=0||((null===n||void 0===n?void 0:n.album)||"").toLowerCase().indexOf(s)>=0})))}},methods:{onTrackClick:function(t,e){if(t.shiftKey){var n=this.selectedTracks.sort();n.length?e<n[0]?this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(n[0]-e).keys()).map((function(t){return t+e})))):e>n[n.length-1]&&(this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(e-n[n.length-1]+1).keys()).map((function(t){return t+n[n.length-1]}))))):this.selectedTracks=[e]}else{var c=this.selectedTracks.indexOf(e);this.selectionMode||t.ctrlKey?c>=0?this.selectedTracks.splice(c,1):this.selectedTracks.push(e):this.selectedTracks=c>=0?[]:[e]}},addTrack:function(){var t=prompt("Item path or URL");(null===t||void 0===t?void 0:t.length)&&this.$emit("add",t)},onTrackDragStart:function(t){this.sourcePos=t},onTrackDragEnd:function(){this.$refs.body.querySelectorAll(".track").forEach((function(t){return t.classList.remove("dragover")})),null!=this.sourcePos&&null!=this.targetPos&&this.sourcePos!==this.targetPos&&(this.$emit("move",{from:this.sourcePos,to:this.targetPos}),this.sourcePos=null,this.targetPos=null)},onTrackDragOver:function(t){this.targetPos=t;var e=this.$refs.body.querySelectorAll(".track");e.forEach((function(t){return t.classList.remove("dragover")})),Object(a["a"])(e)[t].classList.add("dragover")},playlistSave:function(){var t=prompt("Playlist name");(null===t||void 0===t?void 0:t.length)&&this.$emit("save",t)}},mounted:function(){var t=this;this.$watch((function(){var e;return null===(e=t.status)||void 0===e?void 0:e.playingPos}),(function(e){if(null!=e){var n=Object(a["a"])(t.$refs.body.querySelectorAll(".track"))[e],c=n.offsetTop-parseFloat(getComputedStyle(t.$refs.header.$el).height);t.$refs.body.scrollTo(0,c)}}))}};n("60b0");Se.render=be,Se.__scopeId="data-v-6b60a694";var Ie=Se,De=Object(c["K"])("data-v-2e357c68");Object(c["u"])("data-v-2e357c68");var Ae={key:1,class:"editor-container fade-in"},Ee={class:"header-container"},Re=Object(c["h"])("i",{class:"fas fa-arrow-left"},null,-1),Fe={class:"search-box"},Me=Object(c["h"])("i",{class:"fas fa-plus"},null,-1),_e={class:"editor",ref:"editor"},Ne={key:0,class:"no-content"},Le={class:"col-10"},ze={class:"title"},Ve={key:0,class:"artist"},Ke={key:1,class:"album"},Je={class:"col-2 right-side"},He={class:"actions"},Ue={key:2,class:"playlists fade-in"},qe={class:"header-container"},Be={class:"col-8 filter"},We={class:"body",ref:"body"},Qe={key:0,class:"no-content"},Ge={class:"col-10"},Xe={class:"col-2 right-side"},Ye={class:"actions"};Object(c["s"])();var Ze=De((function(t,e,n,s,i,l){var r,o,u=Object(c["z"])("Loading"),d=Object(c["z"])("MusicHeader"),f=Object(c["z"])("DropdownItem"),b=Object(c["z"])("Dropdown");return n.loading?(Object(c["r"])(),Object(c["e"])(u,{key:0})):n.editedPlaylist?(Object(c["r"])(),Object(c["e"])("div",Ae,[Object(c["h"])("div",Ee,[Object(c["h"])(d,{ref:"header"},{default:De((function(){return[Object(c["h"])("button",{class:"back-btn",title:"Back",onClick:e[1]||(e[1]=function(e){return t.$emit("playlist-edit",null)})},[Re]),Object(c["h"])("label",Fe,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.trackFilter=t})},null,512),[[c["F"],i.trackFilter]])]),Object(c["h"])("button",{class:"add-btn",title:"Add track",onClick:e[3]||(e[3]=function(){return l.addTrack.apply(l,arguments)})},[Me])]})),_:1},512)]),Object(c["h"])("div",_e,[(null===(r=n.tracks)||void 0===r?void 0:r.length)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",Ne," No tracks found ")),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.tracks,(function(e,s){var r;return Object(c["r"])(),Object(c["e"])("div",{class:["row track",{selected:l.selectedTracksSet.has(s),active:(null===(r=t.status)||void 0===r?void 0:r.playingPos)===s,hidden:!l.displayedTracks.has(s)}],draggable:"true",key:s,onDragstart:function(t){return l.onTrackDragStart(s)},onDragend:function(t){return l.onTrackDragEnd(s)},onDragover:function(t){return l.onTrackDragOver(s)},onClick:function(t){return l.onTrackClick(t,s)},onDblclick:function(e){return t.$emit("load-track",{pos:s,play:!0})}},[Object(c["h"])("div",Le,[Object(c["h"])("div",ze,Object(c["C"])(e.title||"[No Title]"),1),e.artist?(Object(c["r"])(),Object(c["e"])("div",Ve,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.artist),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.artist})}),["stop"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0),e.album?(Object(c["r"])(),Object(c["e"])("div",Ke,[Object(c["h"])("a",{href:t.$route.fullPath,textContent:Object(c["C"])(e.album),onClick:Object(c["J"])((function(n){return t.$emit("search",{artist:e.album})}),["stop"])},null,8,["href","textContent","onClick"])])):Object(c["f"])("",!0)]),Object(c["h"])("div",Je,[Object(c["h"])("span",{class:"duration",textContent:Object(c["C"])(e.time?t.convertTime(e.time):"-:--")},null,8,["textContent"]),Object(c["h"])("span",He,[Object(c["h"])(b,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:De((function(){return[Object(c["h"])(f,{text:"Play","icon-class":"fa fa-play",onClick:function(e){return t.$emit("load-track",{pos:s,play:!0})}},null,8,["onClick"]),Object(c["h"])(f,{text:"Add to tracklist","icon-class":"fa fa-plus",onClick:function(e){return t.$emit("load-track",{pos:s,play:!1})}},null,8,["onClick"]),Object(c["h"])(f,{text:"Add to playlist","icon-class":"fa fa-list-ul",onClick:function(n){return t.$emit("add-to-playlist",e)}},null,8,["onClick"]),Object(c["h"])(f,{text:"Remove","icon-class":"fa fa-trash",onClick:function(e){return t.$emit("remove-track",Object(a["a"])(new Set([].concat(Object(a["a"])(i.selectedTracks),[s]))))}},null,8,["onClick"]),Object(c["h"])(f,{text:"Show info","icon-class":"fa fa-info",onClick:Object(c["J"])((function(e){return t.$emit("track-info",n.tracks[s])}),["stop"])},null,8,["onClick"])]})),_:1})])])],42,["onDragstart","onDragend","onDragover","onClick","onDblclick"])})),128))],512)])):(Object(c["r"])(),Object(c["e"])("div",Ue,[Object(c["h"])("div",qe,[Object(c["h"])(d,{ref:"header"},{default:De((function(){return[Object(c["h"])("div",Be,[Object(c["h"])("label",null,[Object(c["I"])(Object(c["h"])("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.filter=t})},null,512),[[c["F"],i.filter]])])])]})),_:1},512)]),Object(c["h"])("div",We,[(null===(o=n.playlists)||void 0===o?void 0:o.length)?Object(c["f"])("",!0):(Object(c["r"])(),Object(c["e"])("div",Qe," No playlists found ")),(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(n.playlists,(function(e,n){return Object(c["r"])(),Object(c["e"])("div",{class:["row playlist",{hidden:!l.displayedPlaylists.has(n)}],key:n,onClick:function(e){return t.$emit("playlist-edit",n)},onDblclick:function(e){return t.$emit("load",n)}},[Object(c["h"])("div",Ge,[Object(c["h"])("div",{class:"name",textContent:Object(c["C"])(e.name||"[No Name]")},null,8,["textContent"])]),Object(c["h"])("div",Xe,[Object(c["h"])("span",Ye,[Object(c["h"])(b,{title:"Actions","icon-class":"fa fa-ellipsis-h"},{default:De((function(){return[Object(c["h"])(f,{text:"Play","icon-class":"fa fa-play",onClick:Object(c["J"])((function(e){return t.$emit("play",n)}),["stop"])},null,8,["onClick"]),Object(c["h"])(f,{text:"Load","icon-class":"fa fa-list-ul",onClick:Object(c["J"])((function(e){return t.$emit("load",n)}),["stop"])},null,8,["onClick"]),Object(c["h"])(f,{text:"Edit","icon-class":"fa fa-edit",onClick:Object(c["J"])((function(e){return t.$emit("playlist-edit",n)}),["stop"])},null,8,["onClick"]),Object(c["h"])(f,{text:"Remove","icon-class":"fa fa-trash",onClick:Object(c["J"])((function(e){return t.$emit("remove",n)}),["stop"])},null,8,["onClick"])]})),_:1})])])],42,["onClick","onDblclick"])})),128))],512)]))})),tn={name:"Playlists",mixins:[L],components:{DropdownItem:Pe,Dropdown:Ce,MusicHeader:je},emits:["play","load","remove","playlist-edit","search","remove-track","load-track","track-info","playlist-add","add-to-playlist","track-move"],props:{playlists:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},tracks:{type:Array,default:function(){return[]}},editedPlaylist:{type:Number}},data:function(){return{selectedTracks:[],filter:"",trackFilter:"",sourcePos:null,targetPos:null}},computed:{selectedTracksSet:function(){return new Set(this.selectedTracks)},displayedPlaylists:function(){var t,e=this,n=Object(a["a"])(Array(this.playlists.length).keys());if(!(null===(t=this.filter)||void 0===t?void 0:t.length))return new Set(n);var c=this,s=(c.filter||"").toLowerCase();return new Set(n.filter((function(t){var n=e.playlists[t];return((null===n||void 0===n?void 0:n.name)||"").toLowerCase().indexOf(s)>=0})))},displayedTracks:function(){var t,e=this,n=Object(a["a"])(Array(this.tracks.length).keys());if(!(null===(t=this.trackFilter)||void 0===t?void 0:t.length))return new Set(n);var c=this,s=(c.trackFilter||"").toLowerCase();return new Set(n.filter((function(t){var n=e.tracks[t];return((null===n||void 0===n?void 0:n.artist)||"").toLowerCase().indexOf(s)>=0||((null===n||void 0===n?void 0:n.title)||"").toLowerCase().indexOf(s)>=0||((null===n||void 0===n?void 0:n.album)||"").toLowerCase().indexOf(s)>=0})))}},methods:{onTrackClick:function(t,e){if(t.shiftKey){var n=this.selectedTracks.sort();n.length?e<n[0]?this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(n[0]-e).keys()).map((function(t){return t+e})))):e>n[n.length-1]&&(this.selectedTracks=[].concat(Object(a["a"])(this.selectedTracks),Object(a["a"])(Object(a["a"])(Array(e-n[n.length-1]+1).keys()).map((function(t){return t+n[n.length-1]}))))):this.selectedTracks=[e]}else{var c=this.selectedTracks.indexOf(e);t.ctrlKey?c>=0?this.selectedTracks.splice(c,1):this.selectedTracks.push(e):this.selectedTracks=c>=0?[]:[e]}},addTrack:function(){var t=prompt("Track path or URL");(null===t||void 0===t?void 0:t.length)&&this.$emit("playlist-add",t)},onTrackDragStart:function(t){this.sourcePos=t},onTrackDragEnd:function(){this.$refs.editor.querySelectorAll(".track").forEach((function(t){return t.classList.remove("dragover")})),null!=this.sourcePos&&null!=this.targetPos&&this.sourcePos!==this.targetPos&&(this.$emit("track-move",{from:this.sourcePos,to:this.targetPos,playlist:this.editedPlaylist}),this.sourcePos=null,this.targetPos=null)},onTrackDragOver:function(t){this.targetPos=t;var e=this.$refs.editor.querySelectorAll(".track");e.forEach((function(t){return t.classList.remove("dragover")})),Object(a["a"])(e)[t].classList.add("dragover")}}};n("b7c7");tn.render=Ze,tn.__scopeId="data-v-2e357c68";var en=tn,nn={name:"Music",emits:["play","pause","stop","clear","previous","next","set-volume","seek","consume","repeat","random","status-update","playlist-update","new-playing-track","add-to-tracklist","remove-from-tracklist","swap-tracks","play-playlist","load-playlist","remove-playlist","tracklist-move","tracklist-save","add-to-tracklist-from-edited-playlist","remove-from-playlist","track-info","playlist-add","add-to-playlist","playlist-track-move"],mixins:[Jt["a"],L],components:{Loading:M["a"],Modal:_["a"],Nav:Yt,MediaView:Wt,Playlist:Ie,Playlists:en,FormFooter:F},props:{pluginName:{type:String,required:!0},loading:{type:Boolean,default:!1},config:{type:Object,default:function(){}},tracks:{type:Array,default:function(){return[]}},editedPlaylistTracks:{type:Array,default:function(){return[]}},playlists:{type:Array,default:function(){return[]}},status:{type:Object,default:function(){}},editedPlaylist:{type:Number},trackInfo:{type:String}},data:function(){return{selectedView:"playing",selectedPlaylists:[],addToPlaylistTrack:null,playlistFilter:""}},computed:{track:function(){var t;return null==(null===(t=this.status)||void 0===t?void 0:t.playingPos)?null:this.tracks[this.status.playingPos]}},methods:{onStatusEvent:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.plugin_name===e.pluginName){n.next=2;break}return n.abrupt("return");case 2:e.$emit("status-update",t);case 3:case"end":return n.stop()}}),n)})))()},onPlaylistEvent:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.plugin_name===e.pluginName){n.next=2;break}return n.abrupt("return");case 2:e.$emit("playlist-update",t);case 3:case"end":return n.stop()}}),n)})))()},onNewPlayingTrack:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){var a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.plugin_name===e.pluginName){n.next=2;break}return n.abrupt("return");case 2:e.notify({html:"<b>".concat(null===(a=t.track)||void 0===a?void 0:a.artist,"</b><br>").concat(null===(c=t.track)||void 0===c?void 0:c.title),image:{iconClass:"fa fa-play"}}),e.$emit("new-playing-track",t);case 4:case"end":return n.stop()}}),n)})))()},openAddToPlaylist:function(t){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.addToPlaylistTrack=t,e.$refs.playlistsModal.isVisible=!0;case 2:case"end":return n.stop()}}),n)})))()},addToPlaylist:function(){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$emit("add-to-playlist",{track:t.addToPlaylistTrack,playlists:Object(a["a"])(Array(t.selectedPlaylists.length).keys()).filter((function(e){return t.selectedPlaylists[e]}))}),t.$refs.playlistsModal.isVisible=!1,t.addToPlaylistTrack=null,t.playlistFilter="";case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;this.subscribe(this.onStatusEvent,"on-status-update","platypush.message.event.music.MusicPlayEvent","platypush.message.event.music.MusicPauseEvent","platypush.message.event.music.MusicStopEvent","platypush.message.event.music.SeekChangeEvent","platypush.message.event.music.VolumeChangeEvent","platypush.message.event.music.MuteChangeEvent","platypush.message.event.music.PlaybackRepeatModeChangeEvent","platypush.message.event.music.PlaybackRandomModeChangeEvent","platypush.message.event.music.PlaybackConsumeModeChangeEvent","platypush.message.event.music.PlaybackSingleModeChangeEvent"),this.subscribe(this.onPlaylistEvent,"on-playlist-update","platypush.message.event.music.PlaylistChangeEvent"),this.subscribe(this.onNewPlayingTrack,"on-new-playing-track","platypush.message.event.music.NewPlayingTrackEvent"),this.$watch((function(){return t.trackInfo}),(function(e){null!=e&&(t.$refs.trackInfo.isVisible=!0)}))},unmounted:function(){this.unsubscribe("on-status-update"),this.unsubscribe("on-playlist-update")}};n("dc83");nn.render=S,nn.__scopeId="data-v-50c7a9d4";e["default"]=nn},"38cf":function(t,e,n){var a=n("23e7"),c=n("1148");a({target:"String",proto:!0},{repeat:c})},"3fbf":function(t,e,n){},4563:function(t,e,n){"use strict";n("a0a3")},6062:function(t,e,n){"use strict";var a=n("6d61"),c=n("6566");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),c)},"60b0":function(t,e,n){"use strict";n("92e2")},"630a":function(t,e,n){"use strict";n("d5d5")},6566:function(t,e,n){"use strict";var a=n("9bf2").f,c=n("7c73"),s=n("e2cc"),i=n("0366"),l=n("19aa"),r=n("2266"),o=n("7dd0"),u=n("2626"),d=n("83ab"),f=n("f183").fastKey,b=n("69f3"),p=b.set,v=b.getterFor;t.exports={getConstructor:function(t,e,n,o){var u=t((function(t,a){l(t,u,e),p(t,{type:e,index:c(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=a&&r(a,t[o],{that:t,AS_ENTRIES:n})})),b=v(e),h=function(t,e,n){var a,c,s=b(t),i=O(t,e);return i?i.value=n:(s.last=i={index:c=f(e,!0),key:e,value:n,previous:a=s.last,next:void 0,removed:!1},s.first||(s.first=i),a&&(a.next=i),d?s.size++:t.size++,"F"!==c&&(s.index[c]=i)),t},O=function(t,e){var n,a=b(t),c=f(e);if("F"!==c)return a.index[c];for(n=a.first;n;n=n.next)if(n.key==e)return n};return s(u.prototype,{clear:function(){var t=this,e=b(t),n=e.index,a=e.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,n=b(e),a=O(e,t);if(a){var c=a.next,s=a.previous;delete n.index[a.index],a.removed=!0,s&&(s.next=c),c&&(c.previous=s),n.first==a&&(n.first=c),n.last==a&&(n.last=s),d?n.size--:e.size--}return!!a},forEach:function(t){var e,n=b(this),a=i(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){a(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!O(this,t)}}),s(u.prototype,n?{get:function(t){var e=O(this,t);return e&&e.value},set:function(t,e){return h(this,0===t?0:t,e)}}:{add:function(t){return h(this,t=0===t?0:t,t)}}),d&&a(u.prototype,"size",{get:function(){return b(this).size}}),u},setStrong:function(t,e,n){var a=e+" Iterator",c=v(e),s=v(a);o(t,e,(function(t,e){p(this,{type:a,target:t,state:c(t),kind:e,last:void 0})}),(function(){var t=s(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},"6d61":function(t,e,n){"use strict";var a=n("23e7"),c=n("da84"),s=n("94ca"),i=n("6eeb"),l=n("f183"),r=n("2266"),o=n("19aa"),u=n("861d"),d=n("d039"),f=n("1c7e"),b=n("d44e"),p=n("7156");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),h=-1!==t.indexOf("Weak"),O=v?"set":"add",j=c[t],m=j&&j.prototype,k=j,y={},g=function(t){var e=m[t];i(m,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(h&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return h&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(h&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(s(t,"function"!=typeof j||!(h||m.forEach&&!d((function(){(new j).entries().next()})))))k=n.getConstructor(e,t,v,O),l.REQUIRED=!0;else if(s(t,!0)){var C=new k,x=C[O](h?{}:-0,1)!=C,w=d((function(){C.has(1)})),$=f((function(t){new j(t)})),T=!h&&d((function(){var t=new j,e=5;while(e--)t[O](e,e);return!t.has(-0)}));$||(k=e((function(e,n){o(e,k,t);var a=p(new j,e,k);return void 0!=n&&r(n,a[O],{that:a,AS_ENTRIES:v}),a})),k.prototype=m,m.constructor=k),(w||T)&&(g("delete"),g("has"),v&&g("get")),(T||x)&&g(O),h&&m.clear&&delete m.clear}return y[t]=k,a({global:!0,forced:k!=j},y),b(k,t),h||n.setStrong(k,t,v),k}},7981:function(t,e,n){},8431:function(t,e,n){},"92e2":function(t,e,n){},a0a3:function(t,e,n){},a434:function(t,e,n){"use strict";var a=n("23e7"),c=n("23cb"),s=n("a691"),i=n("50c4"),l=n("7b0b"),r=n("65f0"),o=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),b=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,h=9007199254740991,O="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!b},{splice:function(t,e){var n,a,u,d,f,b,j=l(this),m=i(j.length),k=c(t,m),y=arguments.length;if(0===y?n=a=0:1===y?(n=0,a=m-k):(n=y-2,a=v(p(s(e),0),m-k)),m+n-a>h)throw TypeError(O);for(u=r(j,a),d=0;d<a;d++)f=k+d,f in j&&o(u,d,j[f]);if(u.length=a,n<a){for(d=k;d<m-a;d++)f=d+a,b=d+n,f in j?j[b]=j[f]:delete j[b];for(d=m;d>m-a+n;d--)delete j[d-1]}else if(n>a)for(d=m-a;d>k;d--)f=d+a-1,b=d+n-1,f in j?j[b]=j[f]:delete j[b];for(d=0;d<n;d++)j[d+k]=arguments[d+2];return j.length=m-a+n,u}})},a922:function(t,e,n){"use strict";n("8431")},b224:function(t,e,n){"use strict";n("3fbf")},b7c7:function(t,e,n){"use strict";n("fb43")},bb2f:function(t,e,n){var a=n("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c195:function(t,e,n){"use strict";n("f178")},c3da:function(t,e,n){},d5d5:function(t,e,n){},dc83:function(t,e,n){"use strict";n("7981")},f178:function(t,e,n){},f183:function(t,e,n){var a=n("d012"),c=n("861d"),s=n("5135"),i=n("9bf2").f,l=n("90e3"),r=n("bb2f"),o=l("meta"),u=0,d=Object.isExtensible||function(){return!0},f=function(t){i(t,o,{value:{objectID:"O"+ ++u,weakData:{}}})},b=function(t,e){if(!c(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,o)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[o].objectID},p=function(t,e){if(!s(t,o)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[o].weakData},v=function(t){return r&&h.REQUIRED&&d(t)&&!s(t,o)&&f(t),t},h=t.exports={REQUIRED:!1,fastKey:b,getWeakData:p,onFreeze:v};a[o]=!0},fb43:function(t,e,n){}}]);
//# sourceMappingURL=chunk-52804492.1cbed362.js.map