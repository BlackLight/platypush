"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[3315,3673],{1583:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(6252),l=n(3577),i=n(9963),r={class:"slider-wrapper"},u=["textContent"],o=["textContent"],s={class:"slider-container"},c=["min","max","step","disabled","value"],d={class:"track-inner",ref:"track"},p={class:"thumb",ref:"thumb"},v=["textContent"];function h(e,t,n,h,f,g){return(0,a.wg)(),(0,a.iD)("label",r,[n.withRange?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,l.C_)(["range-labels",{"with-label":n.withLabel}])},[n.withRange?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"label left",textContent:(0,l.zw)(n.range[0])},null,8,u)):(0,a.kq)("",!0),n.withRange?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"label right",textContent:(0,l.zw)(n.range[1])},null,8,o)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0),(0,a._)("span",s,[(0,a._)("input",{class:(0,l.C_)(["slider",{"with-label":n.withLabel}]),type:"range",min:n.range[0],max:n.range[1],step:n.step,disabled:n.disabled,value:n.value,ref:"range",onInput:t[0]||(t[0]=(0,i.iM)((function(){return g.onUpdate&&g.onUpdate.apply(g,arguments)}),["stop"])),onChange:t[1]||(t[1]=(0,i.iM)((function(){return g.onUpdate&&g.onUpdate.apply(g,arguments)}),["stop"]))},null,42,c),(0,a._)("div",{class:(0,l.C_)(["track",{"with-label":n.withLabel}])},[(0,a._)("div",d,null,512)],2),(0,a._)("div",p,null,512),n.withLabel?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"label",textContent:(0,l.zw)(n.value),ref:"label"},null,8,v)):(0,a.kq)("",!0)])])}var f=n(4648),g=(n(9653),{name:"Slider",emits:["input","change","mouseup","mousedown","touchstart","touchend","keyup","keydown"],props:{value:{type:Number},disabled:{type:Boolean,default:!1},range:{type:Array,default:function(){return[0,100]}},step:{type:Number,default:1},withLabel:{type:Boolean,default:!1},withRange:{type:Boolean,default:!1}},methods:{onUpdate:function(e){this.update(e.target.value),this.$emit(e.type,(0,f.Z)((0,f.Z)({},e),{},{target:(0,f.Z)((0,f.Z)({},e.target),{},{value:this.$refs.range.value})}))},update:function(e){var t=this.$refs.range.clientWidth,n=(e-this.range[0])/(this.range[1]-this.range[0]),a=n*t,l=this.$refs.thumb;l.style.left="".concat(a-l.clientWidth/2,"px"),this.$refs.thumb.style.transform="translate(-".concat(n,"%, -50%)"),this.$refs.track.style.width="".concat(a,"px")}},mounted:function(){var e=this;null!=this.value&&this.update(this.value),this.$watch((function(){return e.value}),(function(t){return e.update(t)}))}}),m=n(3744);const y=(0,m.Z)(g,[["render",h],["__scopeId","data-v-28d31846"]]);var w=y},3315:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});n(8309);var a=n(6252),l=n(3577),i=n(9963),r={class:"entity dimmer-container"},u={class:"col-1 icon"},o={class:"col-s-8 col-m-9 label"},s=["textContent"],c={class:"col-s-3 col-m-2 buttons pull-right"},d=["textContent"],p={class:"row"},v={key:0,class:"input"},h={class:"col-10"},f={class:"col-2 value"},g=["value"],m={key:1,class:"input"},y={class:"col-12 value"},w=["value"];function b(e,t,n,b,_,k){var x,C,D,I=(0,a.up)("EntityIcon"),Z=(0,a.up)("Slider");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",{class:(0,l.C_)(["head",{expanded:_.expanded}])},[(0,a._)("div",u,[(0,a.Wm)(I,{icon:(null===(x=this.value.meta)||void 0===x?void 0:x.icon)||{},loading:e.loading,error:e.error},null,8,["icon","loading","error"])]),(0,a._)("div",o,[(0,a._)("div",{class:"name",textContent:(0,l.zw)(e.value.name)},null,8,s)]),(0,a._)("div",c,[(0,a._)("button",{onClick:t[0]||(t[0]=(0,i.iM)((function(e){return _.expanded=!_.expanded}),["stop"]))},[(0,a._)("i",{class:(0,l.C_)(["fas",{"fa-angle-up":_.expanded,"fa-angle-down":!_.expanded}])},null,2)]),null!=k.parsedValue?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"value-percent",textContent:(0,l.zw)(k.parsedValue)},null,8,d)):(0,a.kq)("",!0)])],2),_.expanded?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"body",onClick:t[3]||(t[3]=(0,i.iM)((function(){return k.prevent&&k.prevent.apply(k,arguments)}),["stop"]))},[(0,a._)("div",p,[null!=(null===(C=e.value)||void 0===C?void 0:C.min)&&null!=(null===(D=e.value)||void 0===D?void 0:D.max)?((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",h,[(0,a.Wm)(Z,{range:[e.value.min,e.value.max],"with-range":"",value:e.value.value,onInput:k.setValue},null,8,["range","value","onInput"])]),(0,a._)("div",f,[(0,a._)("input",{type:"number",value:e.value.value,onChange:t[1]||(t[1]=function(){return k.setValue&&k.setValue.apply(k,arguments)})},null,40,g)])])):((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("div",y,[(0,a._)("input",{type:"number",value:e.value.value,onChange:t[2]||(t[2]=function(){return k.setValue&&k.setValue.apply(k,arguments)})},null,40,w)])]))])])):(0,a.kq)("",!0)])}var _=n(8534),k=(n(5666),n(1583)),x=n(7909),C=n(3673),D={name:"Dimmer",components:{Slider:k.Z,EntityIcon:C["default"]},mixins:[x["default"]],data:function(){return{expanded:!1}},computed:{parsedValue:function(){var e,t;return null!==(e=this.value)&&void 0!==e&&e.is_write_only||null==(null===(t=this.value)||void 0===t?void 0:t.value)?null:this.value.value}},methods:{prevent:function(e){return e.stopPropagation(),!1},setValue:function(e){var t=this;return(0,_.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!==(a=e.target.value)&&void 0!==a&&a.length){n.next=2;break}return n.abrupt("return");case 2:return t.$emit("loading",!0),n.prev=3,n.next=6,t.request("entities.execute",{id:t.value.id,action:"set_value",data:+e.target.value});case 6:return n.prev=6,t.$emit("loading",!1),n.finish(6);case 9:case"end":return n.stop()}}),n,null,[[3,,6,9]])})))()}}},I=n(3744);const Z=(0,I.Z)(D,[["render",b],["__scopeId","data-v-0cb8ba4a"]]);var V=Z},3673:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var a=n(6252),l=n(3577),i=n(3540),r={key:0,src:i,class:"loading"},u={key:1,class:"fas fa-circle-exclamation error"};function o(e,t,n,i,o,s){var c=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["entity-icon-container",{"with-color-fill":!!s.colorFill}]),style:(0,l.j5)(s.colorFillStyle)},[n.loading?((0,a.wg)(),(0,a.iD)("img",r)):n.error?((0,a.wg)(),(0,a.iD)("i",u)):((0,a.wg)(),(0,a.j4)(c,(0,l.vs)((0,a.dG)({key:2},s.computedIcon)),null,16))],6)}var s=n(4648),c=(n(7042),n(1478)),d={name:"EntityIcon",components:{Icon:c.Z},props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},icon:{type:Object,required:!0},hasColorFill:{type:Boolean,default:!1}},data:function(){return{component:null,modalVisible:!1}},computed:{colorFill:function(){return this.hasColorFill&&this.icon.color?this.icon.color:null},colorFillStyle:function(){return this.colorFill&&!this.error?{background:this.colorFill}:{}},computedIcon:function(){var e=(0,s.Z)({},this.icon);return this.colorFill&&delete e.color,e},type:function(){var e=this.entity.type||"";return e.charAt(0).toUpperCase()+e.slice(1)}}},p=n(3744);const v=(0,p.Z)(d,[["render",o],["__scopeId","data-v-e4043550"]]);var h=v},3540:function(e,t,n){e.exports=n.p+"static/img/spinner.c0bee445.gif"}}]);
//# sourceMappingURL=3315-legacy.544d337b.js.map