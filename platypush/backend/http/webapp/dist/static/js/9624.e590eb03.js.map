{"version":3,"file":"static/js/9624.e590eb03.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Entities/Variable.vue","webpack://platypush/./src/components/panels/Entities/Variable.vue?62e2"],"sourcesContent":["<template>\n  <div class=\"entity variable-container\" v-if=\"value.value != null\">\n    <div class=\"head\" :class=\"{collapsed: collapsed}\">\n      <div class=\"icon\">\n        <EntityIcon :entity=\"value\" :loading=\"loading\" :error=\"error\" />\n      </div>\n\n      <div class=\"label\">\n        <div class=\"name\" v-text=\"value.name\" />\n      </div>\n\n      <div class=\"value-and-toggler\" @click.stop=\"collapsed = !collapsed\">\n        <div class=\"value\" v-text=\"value.value\" v-if=\"value?.value != null\" />\n        <div class=\"collapse-toggler\" @click.stop=\"collapsed = !collapsed\">\n          <i class=\"fas\" :class=\"{'fa-chevron-down': collapsed, 'fa-chevron-up': !collapsed}\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"body\" v-if=\"!collapsed\" @click.stop=\"prevent\">\n      <div class=\"row\">\n        <form @submit.prevent=\"setValue\">\n          <div class=\"row\">\n            <div class=\"col-9\">\n              <input type=\"text\" v-model=\"value_\" placeholder=\"Variable value\" :disabled=\"loading\" ref=\"text\" />\n            </div>\n            <div class=\"col-3 pull-right\">\n              <button type=\"button\" title=\"Clear\" @click.stop=\"clearValue\" :disabled=\"loading\">\n                <i class=\"fas fa-trash\" />\n              </button>\n              <button type=\"submit\" title=\"Edit\" :disabled=\"loading\">\n                <i class=\"fas fa-check\" />\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EntityMixin from \"./EntityMixin\"\nimport EntityIcon from \"./EntityIcon\"\n\nexport default {\n  name: 'Variable',\n  components: {EntityIcon},\n  mixins: [EntityMixin],\n  emits: ['loading'],\n  data: function() {\n    return {\n      collapsed: true,\n      value_: null,\n    }\n  },\n\n  computed: {\n    isCollapsed() {\n      return this.collapsed\n    },\n  },\n\n  methods: {\n    async clearValue() {\n      this.$emit('loading', true)\n      try {\n        await this.request('variable.unset', {name: this.value.name})\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n\n    async setValue() {\n      const value = this.value_\n      if (!value?.length)\n        return await this.clearValue()\n\n      this.$emit('loading', true)\n      try {\n        const args = {}\n        args[this.value.name] = value\n        await this.request('variable.set', args)\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n  },\n\n  mounted() {\n    this.value_ = this.value.value\n    this.$watch(() => this.value.value, (newValue) => {\n      this.value_ = newValue\n    })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"common\";\n\n$icon-width: 2em;\n\n.variable-container {\n  .head {\n    .icon, .collapse-toggler {\n      width: $icon-width;\n    }\n\n    .label, .value-and-toggler {\n      min-width: calc(((100% - (2 * $icon-width)) / 2) - 1em);\n      max-width: calc(((100% - (2 * $icon-width)) / 2) - 1em);\n    }\n\n    .label {\n      margin-left: 1em;\n    }\n\n    .value-and-toggler {\n      text-align: right;\n    }\n  }\n\n  form {\n    width: 100%;\n\n    .row {\n      width: 100%;\n      input[type=text] {\n        width: 100%;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Variable.vue?vue&type=template&id=c4b6a144&scoped=true\"\nimport script from \"./Variable.vue?vue&type=script&lang=js\"\nexport * from \"./Variable.vue?vue&type=script&lang=js\"\n\nimport \"./Variable.vue?vue&type=style&index=0&id=c4b6a144&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c4b6a144\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_12","_hoisted_15","_ctx","value","_createElementBlock","_hoisted_1","_normalizeClass","collapsed","_hoisted_2","_createVNode","_component_EntityIcon","entity","loading","error","_hoisted_3","_toDisplayString","name","onClick","_cache","_withModifiers","$event","args","prevent","_hoisted_6","onSubmit","$options","setValue","_hoisted_7","_hoisted_8","type","value_","placeholder","disabled","ref","_hoisted_10","title","clearValue","components","EntityIcon","mixins","EntityMixin","emits","data","computed","isCollapsed","this","methods","$emit","request","length","mounted","$watch","newValue","__exports__","render"],"sourceRoot":""}