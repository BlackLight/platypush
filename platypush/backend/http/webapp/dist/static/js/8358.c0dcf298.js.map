{"version":3,"file":"static/js/8358.c0dcf298.js","mappings":"sQACOA,MAAM,6B,GAEFA,MAAM,c,GAINA,MAAM,yB,uCAcNA,MAAM,O,GAEFA,MAAM,O,GACJA,MAAM,S,0BAGNA,MAAM,oB,yBAEP,OAA0B,KAAvBA,MAAM,gBAAc,W,GAAvB,G,yBAGA,OAA0B,KAAvBA,MAAM,gBAAc,W,GAAvB,G,8DA/B0C,MAAX,EAAAC,MAAMA,QAAK,WAAxD,QAsCM,MAtCN,EAsCM,EArCJ,OAgBM,OAhBDD,OAAK,SAAC,OAAM,WAAqB,EAAAE,cAAtC,EACE,OAEM,MAFN,EAEM,EADJ,QAAgE,GAAnDC,OAAQ,EAAAF,MAAQG,QAAS,EAAAA,QAAUC,MAAO,EAAAA,OAAvD,wCAGF,OAEM,MAFN,EAEM,EADJ,OAAwC,OAAnCL,MAAM,O,aAAO,QAAmB,EAAN,MAACM,OAAhC,aAGF,OAEM,OAFDN,MAAM,kCAAmC,QAAK,yBAAO,EAAAE,WAAa,EAAAA,WAAS,YAAhF,CAC6D,MAAZ,EAAAD,OAAOA,QAAK,WAA3D,QAAuE,Q,MAAjED,MAAM,Q,aAAQ,QAAoB,EAAP,MAACC,QAAlC,8BAGF,OAEM,OAFDD,MAAM,yBAA0B,QAAK,yBAAO,EAAAE,WAAa,EAAAA,WAAS,YAAvE,EACE,OAAsF,KAAnFF,OAAK,SAAC,MAAK,mBAA6B,EAAAE,UAAS,iBAAoB,EAAAA,cAAxE,WAdJ,GAkByB,EAAAA,WAAzB,iBAAyB,WAAzB,QAkBM,O,MAlBDF,MAAM,OAA0B,QAAK,8BAAO,EAAAO,SAAA,EAAAA,WAAA,IAAO,YAAxD,EACE,OAgBM,MAhBN,EAgBM,EAfJ,OAcO,QAdA,SAAM,8BAAU,EAAAC,UAAA,EAAAA,YAAA,IAAQ,eAA/B,EACE,OAYM,MAZN,EAYM,EAXJ,OAEM,MAFN,EAEM,EADJ,OAAsG,SAA/FC,KAAK,OAAQR,MAAO,EAAAA,MAAMA,MAAOS,YAAY,iBAAkBC,SAAU,EAAAP,QAASQ,IAAI,QAA7F,aAEF,OAOM,MAPN,EAOM,EANJ,OAES,UAFDH,KAAK,SAASI,MAAM,QAAS,QAAK,8BAAO,EAAAC,YAAA,EAAAA,cAAA,IAAU,WAAGH,SAAU,EAAAP,SAAxE,QAGA,OAES,UAFDK,KAAK,SAASI,MAAM,OAAQF,SAAU,EAAAP,SAA9C,YATN,aArBN,c,yBA6CF,GACEE,KAAM,WACNS,WAAY,CAACC,WAAU,cACvBC,OAAQ,CAACC,EAAA,YACTC,KAAM,WACJ,MAAO,CACLjB,WAAW,EAEd,EAEDkB,SAAU,CACRC,cACE,OAAOC,KAAKpB,SACb,GAGHqB,QAAS,CACPC,mBACEF,KAAKG,MAAM,WAAW,GACtB,UACQH,KAAKI,QAAQ,iBAAkB,CAACpB,KAAMgB,KAAKrB,MAAMK,MAGzD,CAJA,QAGEgB,KAAKG,MAAM,WAAW,EACxB,CACD,EAEDD,iBACE,MAAMvB,EAAQqB,KAAKK,MAAMC,KAAK3B,MAC9B,IAAKA,GAAO4B,OACV,aAAaP,KAAKR,aAEpBQ,KAAKG,MAAM,WAAW,GACtB,IACE,MAAMK,EAAO,CAAC,EACdA,EAAKR,KAAKrB,MAAMK,MAAQL,QAClBqB,KAAKI,QAAQ,eAAgBI,EAGrC,CANA,QAKER,KAAKG,MAAM,WAAW,EACxB,CACD,I,UC9EL,MAAMM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://platypush/./src/components/panels/Entities/Variable.vue","webpack://platypush/./src/components/panels/Entities/Variable.vue?62e2"],"sourcesContent":["<template>\n  <div class=\"entity variable-container\" v-if=\"value.value != null\">\n    <div class=\"head\" :class=\"{collapsed: collapsed}\">\n      <div class=\"col-1 icon\">\n        <EntityIcon :entity=\"value\" :loading=\"loading\" :error=\"error\" />\n      </div>\n\n      <div class=\"col-s-6 col-m-7 label\">\n        <div class=\"name\" v-text=\"value.name\" />\n      </div>\n\n      <div class=\"col-s-4 col-m-3 value-container\" @click.stop=\"collapsed = !collapsed\">\n        <span class=\"value\" v-text=\"value.value\" v-if=\"value?.value != null\" />\n      </div>\n\n      <div class=\"col-1 collapse-toggler\" @click.stop=\"collapsed = !collapsed\">\n        <i class=\"fas\" :class=\"{'fa-chevron-down': collapsed, 'fa-chevron-up': !collapsed}\" />\n      </div>\n    </div>\n\n    <div class=\"body\" v-if=\"!collapsed\" @click.stop=\"prevent\">\n      <div class=\"row\">\n        <form @submit.prevent=\"setValue\">\n          <div class=\"row\">\n            <div class=\"col-9\">\n              <input type=\"text\" :value=\"value.value\" placeholder=\"Variable value\" :disabled=\"loading\" ref=\"text\" />\n            </div>\n            <div class=\"col-3 pull-right\">\n              <button type=\"button\" title=\"Clear\" @click.stop=\"clearValue\" :disabled=\"loading\">\n                <i class=\"fas fa-trash\" />\n              </button>\n              <button type=\"submit\" title=\"Edit\" :disabled=\"loading\">\n                <i class=\"fas fa-check\" />\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EntityMixin from \"./EntityMixin\"\nimport EntityIcon from \"./EntityIcon\"\n\nexport default {\n  name: 'Variable',\n  components: {EntityIcon},\n  mixins: [EntityMixin],\n  data: function() {\n    return {\n      collapsed: true,\n    }\n  },\n\n  computed: {\n    isCollapsed() {\n      return this.collapsed\n    },\n  },\n\n  methods: {\n    async clearValue() {\n      this.$emit('loading', true)\n      try {\n        await this.request('variable.unset', {name: this.value.name})\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n\n    async setValue() {\n      const value = this.$refs.text.value\n      if (!value?.length)\n        return await this.clearValue()\n\n      this.$emit('loading', true)\n      try {\n        const args = {}\n        args[this.value.name] = value\n        await this.request('variable.set', args)\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"common\";\n\n.head .value-container {\n  text-align: right;\n}\n\nform {\n  width: 100%;\n\n  .row {\n    width: 100%;\n    input[type=text] {\n      width: 100%;\n    }\n  }\n}\n</style>\n","import { render } from \"./Variable.vue?vue&type=template&id=0f534cfd&scoped=true\"\nimport script from \"./Variable.vue?vue&type=script&lang=js\"\nexport * from \"./Variable.vue?vue&type=script&lang=js\"\n\nimport \"./Variable.vue?vue&type=style&index=0&id=0f534cfd&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f534cfd\"]])\n\nexport default __exports__"],"names":["class","value","collapsed","entity","loading","error","name","prevent","setValue","type","placeholder","disabled","ref","title","clearValue","components","EntityIcon","mixins","EntityMixin","data","computed","isCollapsed","this","methods","async","$emit","request","$refs","text","length","args","__exports__","render"],"sourceRoot":""}