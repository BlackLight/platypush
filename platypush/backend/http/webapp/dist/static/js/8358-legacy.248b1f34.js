"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[8358],{8358:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});t(8309);var l=t(6252),a=t(3577),r=t(9963),i=function(e){return(0,l.dD)("data-v-0f534cfd"),e=e(),(0,l.Cn)(),e},u={key:0,class:"entity variable-container"},s={class:"col-1 icon"},o={class:"col-s-6 col-m-7 label"},c=["textContent"],d=["textContent"],p={class:"row"},v={class:"row"},f={class:"col-9"},m=["value","disabled"],h={class:"col-3 pull-right"},b=["disabled"],g=i((function(){return(0,l._)("i",{class:"fas fa-trash"},null,-1)})),_=[g],k=["disabled"],y=i((function(){return(0,l._)("i",{class:"fas fa-check"},null,-1)})),w=[y];function C(e,n,t,i,g,y){var C,x=(0,l.up)("EntityIcon");return null!=e.value.value?((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("div",{class:(0,a.C_)(["head",{collapsed:e.collapsed}])},[(0,l._)("div",s,[(0,l.Wm)(x,{entity:e.value,loading:e.loading,error:e.error},null,8,["entity","loading","error"])]),(0,l._)("div",o,[(0,l._)("div",{class:"name",textContent:(0,a.zw)(e.value.name)},null,8,c)]),(0,l._)("div",{class:"col-s-4 col-m-3 value-container",onClick:n[0]||(n[0]=(0,r.iM)((function(n){return e.collapsed=!e.collapsed}),["stop"]))},[null!=(null===(C=e.value)||void 0===C?void 0:C.value)?((0,l.wg)(),(0,l.iD)("span",{key:0,class:"value",textContent:(0,a.zw)(e.value.value)},null,8,d)):(0,l.kq)("",!0)]),(0,l._)("div",{class:"col-1 collapse-toggler",onClick:n[1]||(n[1]=(0,r.iM)((function(n){return e.collapsed=!e.collapsed}),["stop"]))},[(0,l._)("i",{class:(0,a.C_)(["fas",{"fa-chevron-down":e.collapsed,"fa-chevron-up":!e.collapsed}])},null,2)])],2),e.collapsed?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:0,class:"body",onClick:n[4]||(n[4]=(0,r.iM)((function(){return e.prevent&&e.prevent.apply(e,arguments)}),["stop"]))},[(0,l._)("div",p,[(0,l._)("form",{onSubmit:n[3]||(n[3]=(0,r.iM)((function(){return y.setValue&&y.setValue.apply(y,arguments)}),["prevent"]))},[(0,l._)("div",v,[(0,l._)("div",f,[(0,l._)("input",{type:"text",value:e.value.value,placeholder:"Variable value",disabled:e.loading,ref:"text"},null,8,m)]),(0,l._)("div",h,[(0,l._)("button",{type:"button",title:"Clear",onClick:n[2]||(n[2]=(0,r.iM)((function(){return y.clearValue&&y.clearValue.apply(y,arguments)}),["stop"])),disabled:e.loading},_,8,b),(0,l._)("button",{type:"submit",title:"Edit",disabled:e.loading},w,8,k)])])],32)])]))])):(0,l.kq)("",!0)}var x=t(8534),V=(t(5666),t(7909)),q=t(5017),M={name:"Variable",components:{EntityIcon:q["default"]},mixins:[V["default"]],data:function(){return{collapsed:!0}},computed:{isCollapsed:function(){return this.collapsed}},methods:{clearValue:function(){var e=this;return(0,x.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$emit("loading",!0),n.prev=1,n.next=4,e.request("variable.unset",{name:e.value.name});case 4:return n.prev=4,e.$emit("loading",!1),n.finish(4);case 7:case"end":return n.stop()}}),n,null,[[1,,4,7]])})))()},setValue:function(){var e=this;return(0,x.Z)(regeneratorRuntime.mark((function n(){var t,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t=e.$refs.text.value,null!==t&&void 0!==t&&t.length){n.next=5;break}return n.next=4,e.clearValue();case 4:return n.abrupt("return",n.sent);case 5:return e.$emit("loading",!0),n.prev=6,l={},l[e.value.name]=t,n.next=11,e.request("variable.set",l);case 11:return n.prev=11,e.$emit("loading",!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[6,,11,14]])})))()}}},$=t(3744);const D=(0,$.Z)(M,[["render",C],["__scopeId","data-v-0f534cfd"]]);var R=D}}]);
//# sourceMappingURL=8358-legacy.248b1f34.js.map