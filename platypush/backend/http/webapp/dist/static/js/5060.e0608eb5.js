"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[5060,3673],{1583:function(e,t,l){l.d(t,{Z:function(){return f}});var a=l(6252),n=l(3577),i=l(9963);const s={class:"slider-wrapper"},o=["textContent"],r=["textContent"],u={class:"slider-container"},c=["min","max","step","disabled","value"],d={class:"track-inner",ref:"track"},p={class:"thumb",ref:"thumb"},h=["textContent"];function v(e,t,l,v,g,m){return(0,a.wg)(),(0,a.iD)("label",s,[l.withRange?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,n.C_)(["range-labels",{"with-label":l.withLabel}])},[l.withRange?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"label left",textContent:(0,n.zw)(l.range[0])},null,8,o)):(0,a.kq)("",!0),l.withRange?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"label right",textContent:(0,n.zw)(l.range[1])},null,8,r)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0),(0,a._)("span",u,[(0,a._)("input",{class:(0,n.C_)(["slider",{"with-label":l.withLabel}]),type:"range",min:l.range[0],max:l.range[1],step:l.step,disabled:l.disabled,value:l.value,ref:"range",onInput:t[0]||(t[0]=(0,i.iM)(((...e)=>m.onUpdate&&m.onUpdate(...e)),["stop"])),onChange:t[1]||(t[1]=(0,i.iM)(((...e)=>m.onUpdate&&m.onUpdate(...e)),["stop"]))},null,42,c),(0,a._)("div",{class:(0,n.C_)(["track",{"with-label":l.withLabel}])},[(0,a._)("div",d,null,512)],2),(0,a._)("div",p,null,512),l.withLabel?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"label",textContent:(0,n.zw)(l.value),ref:"label"},null,8,h)):(0,a.kq)("",!0)])])}var g={name:"Slider",emits:["input","change","mouseup","mousedown","touchstart","touchend","keyup","keydown"],props:{value:{type:Number},disabled:{type:Boolean,default:!1},range:{type:Array,default:()=>[0,100]},step:{type:Number,default:1},withLabel:{type:Boolean,default:!1},withRange:{type:Boolean,default:!1}},methods:{onUpdate(e){this.update(e.target.value),this.$emit(e.type,{...e,target:{...e.target,value:this.$refs.range.value}})},update(e){const t=this.$refs.range.clientWidth,l=(e-this.range[0])/(this.range[1]-this.range[0]),a=l*t,n=this.$refs.thumb;n.style.left=a-n.clientWidth/2+"px",this.$refs.thumb.style.transform=`translate(-${l}%, -50%)`,this.$refs.track.style.width=`${a}px`}},mounted(){null!=this.value&&this.update(this.value),this.$watch((()=>this.value),(e=>this.update(e)))}},m=l(3744);const y=(0,m.Z)(g,[["render",v],["__scopeId","data-v-28d31846"]]);var f=y},5060:function(e,t,l){l.r(t),l.d(t,{default:function(){return $}});var a=l(6252),n=l(3577),i=l(9963);const s={class:"entity dimmer-container"},o={class:"col-1 icon"},r={class:"col-s-8 col-m-9 label"},u=["textContent"],c={class:"col-s-3 col-m-2 buttons pull-right"},d=["textContent"],p={class:"row"},h={key:0,class:"input"},v={class:"col-10"},g={class:"col-2 value"},m=["value"],y={key:1,class:"input"},f={class:"col-12 value"},w=["value"];function b(e,t,l,b,_,k){const x=(0,a.up)("EntityIcon"),C=(0,a.up)("Slider");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",{class:(0,n.C_)(["head",{expanded:_.expanded}])},[(0,a._)("div",o,[(0,a.Wm)(x,{icon:this.value.meta?.icon||{},loading:e.loading,error:e.error},null,8,["icon","loading","error"])]),(0,a._)("div",r,[(0,a._)("div",{class:"name",textContent:(0,n.zw)(e.value.name)},null,8,u)]),(0,a._)("div",c,[(0,a._)("button",{onClick:t[0]||(t[0]=(0,i.iM)((e=>_.expanded=!_.expanded),["stop"]))},[(0,a._)("i",{class:(0,n.C_)(["fas",{"fa-angle-up":_.expanded,"fa-angle-down":!_.expanded}])},null,2)]),null!=k.parsedValue?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"value-percent",textContent:(0,n.zw)(k.parsedValue)},null,8,d)):(0,a.kq)("",!0)])],2),_.expanded?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"body",onClick:t[3]||(t[3]=(0,i.iM)(((...e)=>k.prevent&&k.prevent(...e)),["stop"]))},[(0,a._)("div",p,[null!=e.value?.min&&null!=e.value?.max?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",v,[(0,a.Wm)(C,{range:[e.value.min,e.value.max],"with-range":"",value:e.value.value,onInput:k.setValue},null,8,["range","value","onInput"])]),(0,a._)("div",g,[(0,a._)("input",{type:"number",value:e.value.value,onChange:t[1]||(t[1]=(...e)=>k.setValue&&k.setValue(...e))},null,40,m)])])):((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",f,[(0,a._)("input",{type:"number",value:e.value.value,onChange:t[2]||(t[2]=(...e)=>k.setValue&&k.setValue(...e))},null,40,w)])]))])])):(0,a.kq)("",!0)])}var _=l(1583),k=l(7909),x=l(3673),C={name:"Dimmer",components:{Slider:_.Z,EntityIcon:x["default"]},mixins:[k["default"]],data(){return{expanded:!1}},computed:{parsedValue(){return this.value?.is_write_only||null==this.value?.value?null:this.value.value}},methods:{prevent(e){return e.stopPropagation(),!1},async setValue(e){if(e.target.value?.length){this.$emit("loading",!0);try{await this.request("entities.execute",{id:this.value.id,action:"set_value",data:+e.target.value})}finally{this.$emit("loading",!1)}}}}},D=l(3744);const I=(0,D.Z)(C,[["render",b],["__scopeId","data-v-29e81ca7"]]);var $=I},3673:function(e,t,l){l.r(t),l.d(t,{default:function(){return h}});var a=l(6252),n=l(3577),i=l(3540);const s={key:0,src:i,class:"loading"},o={key:1,class:"fas fa-circle-exclamation error"};function r(e,t,l,i,r,u){const c=(0,a.up)("Icon");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["entity-icon-container",{"with-color-fill":!!u.colorFill}]),style:(0,n.j5)(u.colorFillStyle)},[l.loading?((0,a.wg)(),(0,a.iD)("img",s)):l.error?((0,a.wg)(),(0,a.iD)("i",o)):((0,a.wg)(),(0,a.j4)(c,(0,n.vs)((0,a.dG)({key:2},u.computedIcon)),null,16))],6)}var u=l(1478),c={name:"EntityIcon",components:{Icon:u.Z},props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},icon:{type:Object,required:!0},hasColorFill:{type:Boolean,default:!1}},data(){return{component:null,modalVisible:!1}},computed:{colorFill(){return this.hasColorFill&&this.icon.color?this.icon.color:null},colorFillStyle(){return this.colorFill&&!this.error?{background:this.colorFill}:{}},computedIcon(){const e={...this.icon};return this.colorFill&&delete e.color,e},type(){let e=this.entity.type||"";return e.charAt(0).toUpperCase()+e.slice(1)}}},d=l(3744);const p=(0,d.Z)(c,[["render",r],["__scopeId","data-v-e4043550"]]);var h=p},3540:function(e,t,l){e.exports=l.p+"static/img/spinner.c0bee445.gif"}}]);
//# sourceMappingURL=5060.e0608eb5.js.map