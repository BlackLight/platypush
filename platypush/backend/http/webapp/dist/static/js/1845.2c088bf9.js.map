{"version":3,"file":"static/js/1845.2c088bf9.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Light/color.js","webpack://platypush/./src/components/elements/Slider.vue","webpack://platypush/./src/components/elements/Slider.vue?787f","webpack://platypush/./src/components/elements/ToggleSwitch.vue","webpack://platypush/./src/components/elements/ToggleSwitch.vue?94aa","webpack://platypush/./src/components/panels/Light/Index.vue","webpack://platypush/./src/components/panels/Panel.vue","webpack://platypush/./src/components/panels/Panel.vue?40a7","webpack://platypush/./src/components/Light/Groups.vue","webpack://platypush/./src/components/MenuPanel.vue","webpack://platypush/./src/components/MenuPanel.vue?e8bb","webpack://platypush/./src/components/Light/Groups.vue?f495","webpack://platypush/./src/components/Light/Group.vue","webpack://platypush/./src/components/Light/Light.vue","webpack://platypush/./src/components/Light/Controls.vue","webpack://platypush/./src/components/Light/Controls.vue?5766","webpack://platypush/./src/components/Light/Light.vue?eed6","webpack://platypush/./src/components/Light/Scene.vue","webpack://platypush/./src/components/Light/Scene.vue?87a4","webpack://platypush/./src/components/Light/Animate.vue","webpack://platypush/./src/components/elements/RangeSlider.vue","webpack://platypush/./src/components/elements/RangeSlider.vue?500a","webpack://platypush/./src/components/Light/Animate.vue?a3c2","webpack://platypush/./src/components/Light/Group.vue?06ce","webpack://platypush/./src/components/panels/Light/Index.vue?36e9"],"sourcesContent":["export class ColorConverter {\n    constructor(ranges) {\n        this.ranges = {\n            hue: [0, 360],\n            sat: [0, 100],\n            bri: [0, 100],\n            ct: [154, 500],\n        }\n\n        if (ranges)\n            for (const attr of Object.keys(this.ranges))\n                if (ranges[attr])\n                    this.ranges[attr] = ranges[attr]\n    }\n\n    normalize(x, xRange, yRange) {\n        return yRange[0] + (((x-xRange[0]) * (yRange[1]-yRange[0])) / (xRange[1]-xRange[0]))\n    }\n\n    hslToRgb(h, s, l) {\n        [h, s, l] = [\n            this.normalize(h, this.ranges.hue, [0, 360]),\n            this.normalize(s, this.ranges.sat, [0, 100]),\n            this.normalize(l, this.ranges.bri, [0, 100]),\n        ]\n\n        l /= 100\n        const a = s * Math.min(l, 1 - l) / 100\n        const f = n => {\n            const k = (n + h / 30) % 12\n            const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\n            return Math.round(255 * color)\n        }\n\n        return [f(0), f(8), f(4)]\n    }\n\n    rgbToHsl(r, g, b){\n        r /= 255\n        g /= 255\n        b /= 255;\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if(max === min){\n            h = s = 0; // achromatic\n        } else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n            switch(max){\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n\n        return [\n            parseInt(this.normalize(h, [0, 1], this.ranges.hue)),\n            parseInt(this.normalize(s, [0, 1], this.ranges.sat)),\n            parseInt(this.normalize(l, [0, 1], this.ranges.bri)),\n        ]\n    }\n\n    xyToRgb(x, y, brightness) {\n        // Set to maximum brightness if no custom value was given (Not the slick ECMAScript 6 way for compatibility reasons)\n        if (brightness == null)\n            brightness = this.ranges.bri[1];\n\n        const z = 1.0 - x - y;\n        const Y = (brightness / (this.ranges.bri[1]-1)).toFixed(2);\n        const X = (Y / y) * x;\n        const Z = (Y / y) * z;\n\n        //Convert to RGB using Wide RGB D65 conversion\n        let red \t=  X * 1.656492 - Y * 0.354851 - Z * 0.255038;\n        let green   = -X * 0.707196 + Y * 1.655397 + Z * 0.036152;\n        let blue \t=  X * 0.051713 - Y * 0.121364 + Z * 1.011530;\n\n        //If red, green or blue is larger than 1.0 set it back to the maximum of 1.0\n        if (red > blue && red > green && red > 1.0) {\n            green = green / red;\n            blue = blue / red;\n            red = 1.0;\n        } else if (green > blue && green > red && green > 1.0) {\n            red = red / green;\n            blue = blue / green;\n            green = 1.0;\n        } else if (blue > red && blue > green && blue > 1.0) {\n            red = red / blue;\n            green = green / blue;\n            blue = 1.0;\n        }\n\n        //Reverse gamma correction\n        red \t= red <= 0.0031308 ? 12.92 * red : (1.0 + 0.055) * Math.pow(red, (1.0 / 2.4)) - 0.055;\n        green \t= green <= 0.0031308 ? 12.92 * green : (1.0 + 0.055) * Math.pow(green, (1.0 / 2.4)) - 0.055;\n        blue \t= blue <= 0.0031308 ? 12.92 * blue : (1.0 + 0.055) * Math.pow(blue, (1.0 / 2.4)) - 0.055;\n\n        //Convert normalized decimal to decimal\n        red \t= Math.round(red * 255);\n        green \t= Math.round(green * 255);\n        blue \t= Math.round(blue * 255);\n\n        if (isNaN(red))\n            red = 0;\n        if (isNaN(green))\n            green = 0;\n        if (isNaN(blue))\n            blue = 0;\n\n        return [red, green, blue].map(\n            (c) => Math.min(Math.max(0, c), 255))  // lgtm [js/automatic-semicolon-insertion]\n    }\n\n    rgbToXY(red, green, blue) {\n        if (red > 1) { red /= 255; }\n        if (green > 1) { green /= 255; }\n        if (blue > 1) { blue /= 255; }\n\n        //Apply a gamma correction to the RGB values, which makes the color more vivid and more the like the color displayed on the screen of your device\n        red \t= (red > 0.04045) ? Math.pow((red + 0.055) / (1.0 + 0.055), 2.4) : (red / 12.92);\n        green \t= (green > 0.04045) ? Math.pow((green + 0.055) / (1.0 + 0.055), 2.4) : (green / 12.92);\n        blue \t= (blue > 0.04045) ? Math.pow((blue + 0.055) / (1.0 + 0.055), 2.4) : (blue / 12.92);\n\n        //RGB values to XYZ using the Wide RGB D65 conversion formula\n        const X \t\t= red * 0.664511 + green * 0.154324 + blue * 0.162028;\n        const Y \t\t= red * 0.283881 + green * 0.668433 + blue * 0.047685;\n        const Z \t\t= red * 0.000088 + green * 0.072310 + blue * 0.986039;\n\n        //Calculate the xy values from the XYZ values\n        let x \t\t= parseFloat((X / (X + Y + Z)).toFixed(4));\n        let y \t\t= parseFloat((Y / (X + Y + Z)).toFixed(4));\n\n        if (isNaN(x))\n            x = 0;\n        if (isNaN(y))\n            y = 0;\n\n        return [x, y];\n    }\n\n    rgbToBri(red, green, blue) {\n        return Math.min(2 * this.rgbToHsl(red, green, blue)[2], this.ranges.bri[1])\n    }\n\n    getRGB(color) {\n        if (color.red != null && color.green != null && color.blue != null)\n            return [color.red, color.green, color.blue]\n        if (color.r != null && color.g != null && color.b != null)\n            return [color.r, color.g, color.b]\n        if (color.rgb)\n            return color.rgb\n    }\n\n    getXY(color) {\n        if (color.x != null && color.y != null)\n            return [color.x, color.y]\n        if (color.xy)\n            return color.xy\n    }\n\n    toRGB(color) {\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return rgb\n\n        const xy = this.getXY(color)\n        if (xy && color.bri)\n            return this.xyToRgb(...xy, color.bri)\n        if (color.hue && color.sat && color.bri)\n            return this.hslToRgb(color.hue, color.sat, color.bri)\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    toXY(color) {\n        const xy = this.getXY(color)\n        if (xy && color.bri)\n            return [xy[0], xy[1], color.bri]\n\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return this.rgbToXY(...rgb)\n\n        if (color.hue && color.sat && color.bri) {\n            const rgb = this.hslToRgb(color.hue, color.sat, color.bri)\n            return this.rgbToXY(...rgb)\n        }\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    toHSL(color) {\n        if (color.hue && color.sat && color.bri)\n            return [color.hue, color.sat, color.bri]\n\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return this.rgbToHsl(...rgb)\n\n        const xy = this.getXY(color)\n        if (xy && color.bri) {\n            const rgb = this.xyToRgb(...xy, color.bri)\n            return this.rgbToHsl(...rgb)\n        }\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n}\n","<template>\n  <label>\n    <input class=\"slider\" type=\"range\" :min=\"range[0]\" :max=\"range[1]\" :value=\"value\" :disabled=\"disabled\"\n           @change=\"$emit('input', $event)\" @mouseup=\"$emit('mouseup', $event)\" @input=\"$emit('input', $event)\"\n           @mousedown=\"$emit('mousedown', $event)\" @touch=\"$emit('input', $event)\"\n           @touchstart=\"$emit('mousedown', $event)\" @touchend=\"$emit('mouseup', $event)\">\n\n    <span class=\"label\" v-if=\"withLabel\" v-text=\"value\" />\n  </label>\n</template>\n\n<script>\nexport default {\n  name: \"Slider\",\n  emits: ['input', 'mouseup', 'mousedown'],\n  props: {\n    value: {\n      type: Number,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    range: {\n      type: Array,\n      default: () => [0, 100],\n    },\n\n    withLabel: {\n      type: Boolean,\n      default: false,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.slider {\n  @include appearance(none);\n  @include transition(opacity .2s);\n  width: 100%;\n  height: 1em;\n  border-radius: 0.33em;\n  background: $slider-bg;\n  outline: none;\n\n  @mixin slider-thumb {\n    @include appearance(none);\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    border: 0;\n    background: $slider-thumb-bg;\n    cursor: pointer;\n  }\n\n  &::-webkit-slider-thumb { @include slider-thumb; }\n  &::-moz-range-thumb { @include slider-thumb; }\n  &::-moz-range-track { @include appearance(none); }\n\n  &::-webkit-progress-value,\n  &::-moz-range-progress {\n    background: $slider-progress-bg;\n    height: 1em;\n  }\n\n  &[disabled] {\n    &::-webkit-progress-value,\n    &::-moz-range-progress {\n      opacity: .5;\n    }\n\n    &::-webkit-slider-thumb,\n    &::-moz-range-thumb {\n      opacity: .4;\n    }\n  }\n}\n\nlabel {\n  position: relative;\n  .label {\n    font-weight: normal;\n    text-align: center;\n  }\n}\n</style>\n","import { render } from \"./Slider.vue?vue&type=template&id=1a18952e&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=js\"\nexport * from \"./Slider.vue?vue&type=script&lang=js\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=1a18952e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1a18952e\"]])\n\nexport default __exports__","<template>\n  <div class=\"power-switch\" :class=\"{disabled: disabled}\" @click=\"onInput\">\n    <!--suppress HtmlFormInputWithoutLabel -->\n    <input type=\"checkbox\" :checked=\"value\">\n    <label>\n      <!--suppress HtmlUnknownTag -->\n      <div class=\"switch\">\n        <div class=\"dot\" />\n      </div>\n      <span class=\"label\">\n        <slot />\n      </span>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ToggleSwitch\",\n  emits: ['input'],\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onInput(event) {\n      event.stopPropagation()\n      if (this.disabled)\n        return false\n\n      this.$emit('input', event)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.power-switch {\n  position: relative;\n  transition: transform .3s;\n  transform: scale(var(--scale, 1)) translateZ(0);\n\n  &:active {\n    --scale: .96;\n  }\n\n  &.disabled {\n    opacity: 0.6;\n  }\n\n  input {\n    display: none;\n    & + label {\n      border-radius: 1em;\n      display: block;\n      cursor: pointer;\n      position: relative;\n      transition: box-shadow .4s;\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        border-radius: inherit;\n        background: none;\n        opacity: var(--gradient, 0);\n        transition: opacity .4s;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        vertical-align: top;\n        height: 1.4em;\n        width: 2.5em;\n        border-radius: 1em;\n        background: $toggle-bg;\n        box-shadow: $toggle-shadow;\n\n        &:before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          border-radius: inherit;\n          background: $toggle-selected-bg;\n          opacity: var(--gradient, 0);\n          transition: opacity .4s;\n        }\n\n        .dot {\n          background: $toggle-dot-bg;\n          position: absolute;\n          width: 1.5em;\n          height: 1.5em;\n          border-radius: 50%;\n          box-shadow: $toggle-dot-shadow;\n          left: -0.25em;\n          top: -0.05em;\n          transform: translateX(var(--offset, 0));\n          transition: transform .4s, box-shadow .4s;\n\n          &:before {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            border-radius: inherit;\n            background: $toggle-selected-dot-bg;\n            box-shadow: $toggle-dot-shadow;\n            opacity: var(--gradient, 0);\n            transition: opacity .4s;\n          }\n        }\n      }\n\n      span {\n        line-height: 2em;\n        font-size: 1.2em;\n        color: var(--text, #646B8C);\n        font-weight: 500;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        margin-left: 0.5em;\n        transition: color .4s;\n      }\n\n      & + span {\n        text-align: center;\n        display: block;\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 100%;\n        opacity: 0;\n        font-size: 1em;\n        font-weight: 500;\n        color: #A6ACCD;\n        transform: translateY(0.2em);\n        transition: opacity .4s, transform .4s;\n      }\n    }\n\n    &:not(:checked) {\n      & + label {\n        pointer-events: none;\n        & + span {\n          opacity: 1;\n          transform: translateY(0.6em);\n        }\n      }\n    }\n\n    &:checked {\n      & + label {\n        --offset: 1.5em;\n        --text: #406046;\n        --gradient: 1;\n        --shadow: rgba(0, 39, 6, .1);\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./ToggleSwitch.vue?vue&type=template&id=8fae7678&scoped=true\"\nimport script from \"./ToggleSwitch.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleSwitch.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleSwitch.vue?vue&type=style&index=0&id=8fae7678&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8fae7678\"]])\n\nexport default __exports__","<template>\n  <div class=\"plugin lights-plugin\">\n    <div class=\"panel\" v-if=\"selectedGroup == null && groups && Object.keys(groups).length\">\n      <Groups :groups=\"groups\" :loading-groups=\"loadingGroups\" :color-converter=\"colorConverter\"\n              @select=\"selectedGroup = $event\" @toggle=\"$emit('group-toggle', $event)\" />\n    </div>\n    <div class=\"panel\" v-else>\n      <Group :group=\"groups[selectedGroup]\" :lights=\"displayedLights\" :scenes=\"scenesByGroup[selectedGroup]\"\n             :color-converter=\"colorConverter\" :animations=\"animationsByGroup[selectedGroup]\" @close=\"selectedGroup = null\"\n             @light-toggle=\"$emit('light-toggle', $event)\" @group-toggle=\"$emit('group-toggle', $event)\"\n             @set-light=\"$emit('set-light', $event)\"\n             @set-group=\"$emit('set-group', {groupId: selectedGroup, value: $event})\"\n             @select-scene=\"$emit('select-scene', {groupId: selectedGroup, sceneId: $event})\"\n             @start-animation=\"$emit('start-animation', $event)\" @stop-animation=\"$emit('stop-animation', $event)\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Utils from \"@/Utils\";\nimport Panel from \"@/components/panels/Panel\";\nimport Groups from \"@/components/Light/Groups\";\nimport Group from \"@/components/Light/Group\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\n/**\n * Generic component for light plugins panels.\n */\nexport default {\n  name: \"Light\",\n  components: {Group, Groups},\n  mixins: [Utils, Panel],\n  emits: ['group-toggle', 'light-toggle', 'set-light', 'set-group', 'select-scene', 'start-animation', 'stop-animation',\n    'refresh', 'light-changed'],\n\n  props: {\n    lights: {\n      type: Object,\n    },\n\n    groups: {\n      type: Object,\n    },\n\n    scenes: {\n      type: Object,\n    },\n\n    animations: {\n      type: Object,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n\n    loadingLights: {\n      type: Object,\n      default: () => {},\n    },\n\n    loadingGroups: {\n      type: Object,\n      default: () => {},\n    },\n\n    pluginName: {\n      type: String,\n    },\n\n    initialGroup: {\n      type: [Number, String],\n    },\n  },\n\n  data() {\n    return {\n      selectedGroup: null,\n      initialized: false,\n    }\n  },\n\n  computed: {\n    displayedLights() {\n      const selectedGroup = this.selectedGroup || this.initialGroup\n      if (selectedGroup == null)\n        return this.lights\n\n      return this.groups[selectedGroup].lights.reduce((lights, lightId) => {\n        lights[lightId] = this.lights[lightId]\n        return lights\n      }, {})\n    },\n\n    groupsByLight() {\n      if (!this.groups)\n        return {}\n\n      return Object.entries(this.groups).reduce((obj, [groupId, group]) => {\n        group.lights.forEach((lightId) => {\n          if (!obj[lightId])\n            obj[lightId] = {}\n          obj[lightId][groupId] = group\n        })\n\n        return obj\n      }, {})\n    },\n\n    scenesByGroup() {\n      if (!this.scenes)\n        return {}\n\n      const self = this\n      return Object.entries(this.scenes).reduce((obj, [sceneId, scene]) => {\n        scene.lights.forEach((lightId) => {\n          Object.keys(self.groupsByLight[lightId]).forEach((groupId) => {\n            if (!obj[groupId])\n              obj[groupId] = {}\n\n            obj[groupId][sceneId] = scene\n          })\n        })\n\n        return obj\n      }, {})\n    },\n\n    animationsByGroup() {\n      const self = this\n      const animations = Object.entries(this.animations?.groups || {}).reduce((obj, [groupId, animation]) => {\n        obj[groupId] = {}\n        if (animation)\n          obj[groupId][null] = animation    // lgtm [js/implicit-operand-conversion]\n\n        return obj\n      }, {})\n\n      return {\n        ...animations,\n        ...Object.entries(this.animations?.lights || {}).reduce((obj, [lightId, animation]) => {\n          const group = Object.values(self.groupsByLight[lightId])?.[0]\n          if (group) {\n            if (animation && group.id != null) {\n              if (!obj[group.id])\n                obj[group.id] = {}\n              obj[group.id][lightId] = animation\n            }\n          }\n\n          return obj\n        }, {})\n      }\n    }\n  },\n\n  methods: {\n    initSelectedGroup() {\n      const self = this\n      const unwatch = this.$watch(() => self.initialGroup, (newVal) => {\n        if (!self.initialized) {\n          self.initialized = true\n          unwatch()\n          if (self.selectedGroup == null && newVal != null) {\n            self.selectedGroup = self.initialGroup\n          }\n        }\n      })\n    },\n\n    refresh() {\n      this.$emit('refresh')\n    },\n\n    onLightChange(event) {\n      if (event.plugin_name !== this.pluginName)\n        return\n\n      if (!this.lights[event.light_id]) {\n        this.refresh()\n        return\n      }\n\n      const state = {...event}\n      const lightId = state.light_id\n      delete state.light_id\n      delete state.type\n      delete state.plugin_name\n\n      this.$emit('light-changed', {\n        id: lightId,\n        state: state,\n      })\n    },\n\n    onAnimationChange(event) {\n      if (event.plugin_name !== this.pluginName)\n        return\n\n      this.refresh()\n    },\n  },\n\n  mounted() {\n    this.subscribe(this.onLightChange, 'on-light-change',\n        'platypush.message.event.light.LightStatusChangeEvent')\n    this.subscribe(this.onAnimationChange, 'on-animation-change',\n        'platypush.message.event.light.LightAnimationStartedEvent',\n        'platypush.message.event.light.LightAnimationStoppedEvent')\n\n    this.initSelectedGroup()\n  },\n\n  unmounted() {\n    this.unsubscribe('on-light-change')\n    this.unsubscribe('on-animation-change')\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.plugin {\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n\n.panel {\n  width: 100%;\n  height: 100%;\n  box-shadow: none;\n  overflow: auto;\n}\n</style>\n\n<style lang=\"scss\">\n.lights-plugin {\n  .menu-panel {\n    ul {\n      li:not(.header) {\n        padding: 1.5em 1em;\n      }\n    }\n  }\n}\n</style>","<script>\nexport default {\n  name: \"Panel\",\n  emits: ['mounted'],\n  props: {\n    // Plugin configuration.\n    config: {\n      type: Object,\n      default: () => {},\n    },\n\n    // Plugin name.\n    pluginName: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      loading: false,\n    }\n  },\n\n  mounted() {\n    this.$emit('mounted', this)\n  }\n}\n</script>\n","import script from \"./Panel.vue?vue&type=script&lang=js\"\nexport * from \"./Panel.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <MenuPanel>\n    <div class=\"panel-row header\">\n      <div class=\"col-3\">\n        <i class=\"icon fas fa-home\" />\n      </div>\n      <div class=\"col-6 name\">\n        Rooms\n      </div>\n      <div class=\"col-3 pull-right\">\n        <ToggleSwitch :value=\"anyLightsOn\" @input=\"$emit('toggle')\" />\n      </div>\n    </div>\n\n    <div class=\"panel-row row group\" v-for=\"group in groupsSorted\" :key=\"group.id\" @click=\"$emit('select', group.id)\">\n      <span class=\"name col-9\">\n        {{ group.name || `[Group ${group.id}]` }}\n      </span>\n      <span class=\"controls col-3 pull-right\">\n        <ToggleSwitch :value=\"group.state.any_on\" :disabled=\"group.id in (loadingGroups || {})\"\n                      @input=\"$emit('toggle', group)\" />\n      </span>\n    </div>\n  </MenuPanel>\n</template>\n\n<script>\nimport MenuPanel from \"@/components/MenuPanel\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\nexport default {\n  name: \"Groups\",\n  components: {ToggleSwitch, MenuPanel},\n  emits: ['select', 'toggle'],\n  props: {\n    groups: {\n      type: Object,\n      default: () => {},\n    },\n\n    loadingGroups: {\n      type: Object,\n      default: () => {},\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  computed: {\n    groupsSorted() {\n      return Object.entries(this.groups)\n          .sort((a, b) => a[1].name.localeCompare(b[1].name))\n          .map(([id, group]) => {\n            return {\n              ...group,\n              id: id,\n            }\n          })\n    },\n\n    anyLightsOn() {\n      for (const group of Object.values(this.groups))\n        if (group?.state?.any_on)\n          return true\n\n      return false\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header {\n  display: flex;\n  align-items: center;\n  padding-top: 0.75em !important;\n  padding-bottom: 0.75em !important;\n\n  .icon {\n    margin-left: 0.5em;\n  }\n\n  .name {\n    text-align: center;\n  }\n}\n\n.group {\n  display: flex;\n  align-items: center;\n}\n</style>\n","<template>\n  <div class=\"menu-panel\">\n    <div class=\"content\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MenuPanel\",\n}\n</script>\n\n<style lang=\"scss\">\n.menu-panel {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: $menu-panel-bg;\n  padding-top: 2em;\n\n  .content {\n    background: $menu-panel-content-bg;\n    border-radius: 15px;\n    box-shadow: $plugin-panel-shadow;\n    border: 0;\n\n    .panel-row {\n      display: flex;\n      margin: 0 !important;\n      padding: 1em;\n      box-shadow: $plugin-panel-entry-shadow;\n      cursor: pointer;\n      border: 0;\n      letter-spacing: 0.05em;\n\n      &:hover {\n        background: $hover-bg;\n      }\n\n      &:first-child {\n        border-radius: 15px 15px 0 0;\n        box-shadow: $plugin-panel-first-entry-shadow;\n      }\n\n      &:last-child {\n        border-radius: 0 0 15px 15px;\n        box-shadow: $plugin-panel-last-entry-shadow;\n      }\n    }\n\n    .header {\n      background: $menu-header-bg;\n      font-weight: bold;\n      box-shadow: $menu-header-shadow;\n\n      &:hover {\n        background: $menu-header-bg;\n      }\n    }\n  }\n}\n\n@media screen and (max-width: $desktop) {\n  .menu-panel {\n    padding-top: 0;\n\n    .content {\n      min-width: 100%;\n\n      .row {\n        &:first-child {\n          border-radius: 0;\n        }\n\n        &:last-child {\n          border-radius: 0;\n        }\n      }\n    }\n  }\n}\n\n@media screen and (min-width: $desktop) {\n  .menu-panel {\n    .content {\n      min-width: 75%;\n    }\n  }\n}\n\n@media screen and (min-width: $widescreen) {\n  .menu-panel {\n    .content {\n      min-width: 50%;\n    }\n  }\n}\n\n@media screen and (min-width: $fullhd) {\n  .menu-panel {\n    .content {\n      min-width: 35%;\n    }\n  }\n}\n</style>\n","import { render } from \"./MenuPanel.vue?vue&type=template&id=02113104\"\nimport script from \"./MenuPanel.vue?vue&type=script&lang=js\"\nexport * from \"./MenuPanel.vue?vue&type=script&lang=js\"\n\nimport \"./MenuPanel.vue?vue&type=style&index=0&id=02113104&lang=scss\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Groups.vue?vue&type=template&id=42318a2b&scoped=true\"\nimport script from \"./Groups.vue?vue&type=script&lang=js\"\nexport * from \"./Groups.vue?vue&type=script&lang=js\"\n\nimport \"./Groups.vue?vue&type=style&index=0&id=42318a2b&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-42318a2b\"]])\n\nexport default __exports__","<template>\n  <div class=\"light-group-container\">\n    <MenuPanel>\n      <div class=\"panel-row header\">\n        <div class=\"col-3\" v-if=\"group\">\n          <button class=\"back-btn\" title=\"Back\" @click=\"close\">\n            <i class=\"fas fa-chevron-left\" />\n          </button>\n        </div>\n\n        <div class=\"col-6 name\" :class=\"{selected: selectedView === 'group'}\"\n             v-text=\"groupName\" @click=\"selectedView = selectedView === 'group' ? null : 'group'\" />\n\n        <div class=\"col-3 pull-right\" v-if=\"group\">\n          <ToggleSwitch :value=\"group.state.any_on\" @input=\"$emit('group-toggle', group)\" />\n        </div>\n      </div>\n\n      <div class=\"no-lights\" v-if=\"!lights || !Object.keys(lights).length\">\n        No lights found\n      </div>\n\n      <div class=\"lights-view\" v-else>\n        <div class=\"row view-selector\">\n          <button :class=\"{selected: selectedView === 'lights'}\" title=\"Lights\" @click=\"selectedView = 'lights'\">\n            <i class=\"icon fas fa-lightbulb\" />\n          </button>\n          <button :class=\"{selected: selectedView === 'scenes'}\" title=\"Scenes\" @click=\"selectedView = 'scenes'\">\n            <i class=\"icon far fa-image\" />\n          </button>\n          <button :class=\"{selected: selectedView === 'animate'}\" title=\"Animate\" @click=\"selectedView = 'animate'\">\n            <i class=\"icon fas fa-video\" />\n          </button>\n        </div>\n\n        <div class=\"view fade-in\" v-if=\"selectedView === 'lights'\">\n          <keep-alive>\n            <div class=\"panel-row row\" :class=\"{expanded: light.id === selectedLight}\"\n                 v-for=\"(light, id) in lightsSorted\" :key=\"id\"\n                 @click=\"selectedLight = selectedLight === light.id ? null : light.id\">\n              <Light :light=\"light\" :group=\"group\" :collapsed=\"light.id !== selectedLight\"\n                     :color-converter=\"colorConverter\" @toggle=\"$emit('light-toggle', light)\"\n                     @set-light=\"$emit('set-light', {light: light, value: $event})\" />\n            </div>\n          </keep-alive>\n        </div>\n\n        <div class=\"view fade-in\" v-else-if=\"selectedView === 'scenes'\">\n          <keep-alive>\n            <div class=\"panel-row row\" :class=\"{selected: scene.id === selectedScene}\"\n                 v-for=\"(scene, id) in scenesSorted\" :key=\"id\" @click=\"onSceneSelected(scene.id)\">\n              <Scene :scene=\"scene\" :group=\"group\" />\n            </div>\n          </keep-alive>\n        </div>\n\n        <div class=\"view group-controls fade-in\" v-else-if=\"selectedView === 'group'\">\n          <keep-alive>\n            <Controls :group=\"group\" :lights=\"lights\" :color-converter=\"colorConverter\"\n                      @set-group=\"$emit('set-group', $event)\" />\n          </keep-alive>\n        </div>\n\n        <div class=\"view group-controls fade-in\" v-else-if=\"selectedView === 'animate'\">\n          <keep-alive>\n            <Animate :group=\"group\" :lights=\"lights\" :color-converter=\"colorConverter\" :running-animations=\"animations\"\n                     @start=\"$emit('start-animation', $event)\" @stop=\"$emit('stop-animation', $event)\" />\n          </keep-alive>\n        </div>\n      </div>\n    </MenuPanel>\n  </div>\n</template>\n\n<script>\nimport Light from \"@/components/Light/Light\";\nimport Scene from \"@/components/Light/Scene\";\nimport Controls from \"@/components/Light/Controls\";\nimport MenuPanel from \"@/components/MenuPanel\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\nimport Animate from \"@/components/Light/Animate\";\n\nexport default {\n  name: \"Group\",\n  emits: ['close', 'group-toggle', 'light-toggle', 'set-light', 'select-scene', 'start-animation', 'stop-animation'],\n  components: {Animate, ToggleSwitch, MenuPanel, Light, Scene, Controls},\n  props: {\n    lights: {\n      type: Object,\n    },\n\n    group: {\n      type: Object,\n    },\n\n    scenes: {\n      type: Object,\n    },\n\n    animations: {\n      type: Object,\n      default: () => {},\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  data() {\n    return {\n      selectedLight: null,\n      selectedScene: null,\n      selectedView: 'lights',\n    }\n  },\n\n  computed: {\n    lightsSorted() {\n      if (!this.lights)\n        return []\n\n      return Object.entries(this.lights)\n          .sort((a, b) => a[1].name.localeCompare(b[1].name))\n          .map(([id, light]) => {\n            return {\n              ...light,\n              id: id,\n            }\n          })\n    },\n\n    scenesSorted() {\n      if (!this.scenes)\n        return []\n\n      return Object.entries(this.scenes)\n          .sort((a, b) => a[1].name.localeCompare(b[1].name))\n          .map(([id, scene]) => {\n            return {\n              ...scene,\n              id: id,\n            }\n          })\n    },\n\n    groupName() {\n      if (this.group?.name)\n        return this.group.name\n      if (this.group?.id != null)\n        return `[Group ${this.group.id}]`\n      return 'Lights'\n    },\n  },\n\n  methods: {\n    close(event) {\n      event.stopPropagation()\n      this.$emit('close')\n    },\n\n    onSceneSelected(sceneId) {\n      this.selectedScene = sceneId\n      this.$emit('select-scene', sceneId)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n.light-group-container {\n  width: 100%;\n  min-height: 100%;\n\n  .row.panel-row {\n    flex-direction: column;\n\n    &.expanded,\n    &.selected {\n      background: $selected-bg;\n    }\n  }\n\n  .header {\n    padding: 0.5em !important;\n    display: flex;\n    align-items: center;\n\n    .back-btn {\n      border: 0;\n      background: none;\n\n      &:hover {\n        border: 0;\n        color: $default-hover-fg;\n      }\n    }\n\n    .name {\n      text-align: center;\n\n      &.selected {\n        color: $selected-fg;\n      }\n\n      &:hover {\n        color: $default-hover-fg;\n      }\n    }\n  }\n\n  .view-selector {\n    width: 100%;\n    border-radius: 0;\n\n    button {\n      width: 33.3%;\n      padding: 1.5em;\n      text-align: left;\n      opacity: 0.8;\n      box-shadow: $plugin-panel-entry-shadow;\n      border-right: 0;\n\n      &.selected {\n        background: $selected-bg;\n      }\n\n      &:hover {\n        background: $hover-bg;\n      }\n    }\n\n    .icon {\n      width: 100%;\n      text-align: center;\n      font-size: 1.2em;\n    }\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.light-group-container {\n  .group-controls {\n    margin: 0;\n    padding: 1em;\n    background-color: $default-bg-6;\n    border-radius: 0 0 1em 1em;\n\n    .controls {\n      margin: 0;\n      padding: 1em;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"light\" :class=\"{expanded: !collapsed}\" ref=\"element\">\n    <div class=\"row\">\n      <span class=\"name col-9\" @click=\"expandToggle\">\n        {{ light.name || `[Light ${light.id}]` }}\n      </span>\n      <span class=\"toggle col-3 pull-right\">\n        <ToggleSwitch :value=\"light.state.on\" :disabled=\"loading\" @input=\"$emit('toggle', light)\" />\n      </span>\n    </div>\n\n    <div class=\"row fade-in\" v-if=\"!collapsed\">\n      <Controls :light=\"light\" :loading=\"loading\" :color-converter=\"colorConverter\"\n                @set-light=\"$emit('set-light', $event)\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport Controls from \"@/components/Light/Controls\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\nexport default {\n  name: \"Light\",\n  components: {Controls, ToggleSwitch},\n  emits: ['toggle', 'set-light', 'collapsed', 'expanded'],\n  props: {\n    light: {\n      type: Object,\n      default: () => {},\n    },\n\n    group: {\n      type: Object,\n      default: () => {},\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    collapsed: {\n      type: Boolean,\n      default: true,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  methods: {\n    expandToggle() {\n      this.$emit(this.collapsed ? 'expanded' : 'collapsed')\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.expanded {\n  .name {\n    font-size: 1.25em;\n  }\n}\n</style>\n","<template>\n  <div class=\"controls light-controls\" @click=\"$event.stopPropagation()\">\n    <Loading v-if=\"loading\" />\n\n    <div class=\"row\" v-if=\"state.bri != null\">\n      <div class=\"col-1 icon\">\n        <i class=\"fas fa-sun\" />\n      </div>\n      <div class=\"col-11 control\">\n        <Slider :range=\"colorConverter.ranges.bri\" :disabled=\"loading\" :value=\"state.bri\"\n                @mouseup.stop=\"$emit(light ? 'set-light' : 'set-group', {brightness: parseInt($event.target.value)})\" />\n      </div>\n    </div>\n\n    <div class=\"row\" v-if=\"state.ct != null\">\n      <div class=\"col-1 icon\">\n        <i class=\"fas fa-thermometer-half\" />\n      </div>\n      <div class=\"col-11 control\">\n        <Slider :range=\"colorConverter.ranges.ct\" :disabled=\"loading\" :value=\"state.ct\"\n                @mouseup.stop=\"$emit(light ? 'set-light' : 'set-group', {temperature: parseInt($event.target.value)})\" />\n      </div>\n    </div>\n\n    <label class=\"row\" v-if=\"rgbColor\">\n      <span class=\"col-1 icon\">\n        <i class=\"fas fa-palette\" />\n      </span>\n      <span class=\"col-11 control\">\n        <input type=\"color\" :value=\"rgbColor\" @change.stop=\"onColorSelect\" />\n      </span>\n    </label>\n  </div>\n</template>\n\n<script>\nimport Slider from \"@/components/elements/Slider\";\nimport Loading from \"@/components/Loading\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\nexport default {\n  name: \"Controls\",\n  components: {Loading, Slider},\n  emits: ['set-light', 'set-group'],\n  props: {\n    light: {\n      type: Object,\n    },\n\n    lights: {\n      type: Object,\n    },\n\n    group: {\n      type: Object,\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  computed: {\n    state() {\n      if (this.light?.state)\n        return this.light.state\n\n      const state = this.group?.state || {}\n      if (!this.lights)\n        return state\n\n      const avg = (values) => {\n        if (!(values && values.length))\n          return 0\n\n        if (values[0] instanceof Array)\n          return [...values[0].keys()].map((i) => {\n            return avg(values.map((value) => value[i]))\n          })\n\n        return values.reduce((sum, value) => sum+value, 0) / values.length\n      }\n\n      return {\n        ...state,\n        ...Object.entries(\n            Object.values(this.lights).reduce((obj, light) => {\n              ['bri', 'hue', 'sat', 'rgb', 'xy', 'red', 'green', 'blue', 'ct'].forEach((attr) => {\n                if (light.state?.[attr] != null) {\n                  obj[attr] = [...(obj[attr] || []), light.state[attr]]\n                }\n              })\n\n              return obj\n            }, {})\n        ).reduce((obj, [attr, values]) => {\n          obj[attr] = avg(values)\n          return obj\n        }, {})\n      }\n    },\n\n    color() {\n      return this.getColor(this.state)\n    },\n\n    rgbColor() {\n      const rgb = this.colorConverter.toRGB(this.state)\n      if (rgb)\n        return '#' + rgb.map((x) => {\n          let hex = x.toString(16)\n          if (hex.length < 2)\n            hex = '0' + hex\n          return hex\n        }).join('')\n\n      return null\n    },\n  },\n\n  methods: {\n    onColorSelect(event) {\n      const rgb = event.target.value.slice(1).split(/(?=(?:..)*$)/).map((t) => parseInt(`0x${t}`))\n      this.$emit(this.light ? 'set-light' : 'set-group', {\n        rgb: rgb,\n        xy: this.colorConverter.rgbToXY(...rgb),\n        hsl: this.colorConverter.rgbToHsl(...rgb),\n        brightness: this.colorConverter.rgbToBri(...rgb),\n      })\n    },\n\n    getColor(state) {\n      return {\n        rgb: this.colorConverter.toRGB(state),\n        xy: this.colorConverter.toXY(state),\n        hsl: this.colorConverter.toHSL(state),\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$light-controls-bg: white;\n\n.controls {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 2.25em;\n  background: $light-controls-bg;\n  padding: 0.5em 1em;\n  border-radius: 1em;\n  box-shadow: $plugin-panel-shadow;\n\n  .row {\n    width: 100%;\n    display: flex;\n    align-items: center;\n  }\n\n  .control {\n    padding-top: 0.25em;\n  }\n\n  .icon {\n    opacity: 0.7;\n  }\n\n  input[type=color] {\n    width: 100%;\n    border: 0;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.light-controls {\n  .row {\n    .slider {\n      margin-top: 0.4em;\n    }\n  }\n}\n</style>\n","import { render } from \"./Controls.vue?vue&type=template&id=e2726892&scoped=true\"\nimport script from \"./Controls.vue?vue&type=script&lang=js\"\nexport * from \"./Controls.vue?vue&type=script&lang=js\"\n\nimport \"./Controls.vue?vue&type=style&index=0&id=e2726892&lang=scss&scoped=true\"\nimport \"./Controls.vue?vue&type=style&index=1&id=e2726892&lang=scss\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2726892\"]])\n\nexport default __exports__","import { render } from \"./Light.vue?vue&type=template&id=52168252&scoped=true\"\nimport script from \"./Light.vue?vue&type=script&lang=js\"\nexport * from \"./Light.vue?vue&type=script&lang=js\"\n\nimport \"./Light.vue?vue&type=style&index=0&id=52168252&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52168252\"]])\n\nexport default __exports__","<template>\n  <Loading v-if=\"loading\" />\n  <div class=\"scene row name\" @click=\"onSelect\">\n    {{ scene.name || `[Scene ${scene.id}]` }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Light\",\n  emits: ['select'],\n  props: {\n    scene: {\n      type: Object,\n      default: () => {},\n    },\n\n    group: {\n      type: Object,\n      default: () => {},\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onSelect() {\n      if (this.loading)\n        return false\n\n      this.$emit('select')\n    },\n  },\n}\n</script>\n","import { render } from \"./Scene.vue?vue&type=template&id=6934d062\"\nimport script from \"./Scene.vue?vue&type=script&lang=js\"\nexport * from \"./Scene.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"controls animation-controls\" @click=\"$event.stopPropagation()\">\n    <Loading v-if=\"loading\" />\n\n    <div class=\"animation-container\">\n      <div class=\"animation-header\">\n        <div class=\"row\">\n          <div class=\"col-3\">\n            Run Animation\n          </div>\n          <div class=\"col-9\">\n            <ToggleSwitch :value=\"animationRunning\" @input=\"toggleAnimation\" />\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-3\">Animation</div>\n          <div class=\"col-9\">\n            <label>\n              <select class=\"selector\" @click=\"selectedAnimation = $event.target.value\">\n                <option value=\"color_transition\">Color transition</option>\n                <option value=\"blink\">Blink</option>\n              </select>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"animation\">\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Hue range\n          </div>\n          <div class=\"col-9\">\n            <RangeSlider :range=\"colorConverter.ranges.hue\" :disabled=\"loading\"\n                         :value=\"animations.color_transition.hue_range\"\n                         @mouseup=\"animations.color_transition.hue_range = $event.target.value\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Sat range\n          </div>\n          <div class=\"col-9\">\n            <RangeSlider :range=\"colorConverter.ranges.sat\" :disabled=\"loading\"\n                         :value=\"animations.color_transition.sat_range\"\n                         @mouseup=\"animations.color_transition.sat_range = $event.target.value\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Bri range\n          </div>\n          <div class=\"col-9\">\n            <RangeSlider :range=\"colorConverter.ranges.sat\" :disabled=\"loading\"\n                         :value=\"animations.color_transition.bri_range\"\n                         @mouseup=\"animations.color_transition.bri_range = $event.target.value\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Hue step\n          </div>\n          <div class=\"col-9\">\n            <Slider :range=\"colorConverter.ranges.hue\" :disabled=\"loading\"\n                    :value=\"animations.color_transition.hue_step\"\n                    @mouseup=\"animations.color_transition.hue_step = parseFloat($event.target.value)\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Sat step\n          </div>\n          <div class=\"col-9\">\n            <Slider :range=\"colorConverter.ranges.sat\" :disabled=\"loading\"\n                    :value=\"animations.color_transition.sat_step\"\n                    @mouseup=\"animations.color_transition.sat_step = parseFloat($event.target.value)\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Bri step\n          </div>\n          <div class=\"col-9\">\n            <Slider :range=\"colorConverter.ranges.bri\" :disabled=\"loading\"\n                    :value=\"animations.color_transition.bri_step\"\n                    @mouseup=\"animations.color_transition.bri_step = parseFloat($event.target.value)\" />\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-3\">\n            Refresh seconds\n          </div>\n          <div class=\"col-9\">\n            <label>\n              <input type=\"number\" :value=\"animations[selectedAnimation].transition_seconds\" step=\"0.1\"\n                     @input=\"animations[selectedAnimation].transition_seconds = parseFloat($event.target.value)\" >\n            </label>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-3\">\n            Duration (seconds)\n          </div>\n          <div class=\"col-9\">\n            <label>\n              <input type=\"number\" :value=\"animations[selectedAnimation].duration\" step=\"5\"\n                     @input=\"animations[selectedAnimation].duration = $event.target.value?.length ? parseFloat($event.target.value) : null\" >\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"lights\">\n      <div class=\"row\">\n        <label>\n          <input type=\"checkbox\"\n                 :checked=\"Object.keys(lights).length === Object.values(selectedLights).filter((v) => v).length\" @click=\"toggleSelectAll\">\n          Select all lights\n        </label>\n      </div>\n\n      <div class=\"row\" v-for=\"(light, id) in lights\" :key=\"id\">\n        <label>\n          <input type=\"checkbox\" v-model=\"selectedLights[id]\" @input=\"selectedLights[id] = !selectedLights[id]\">\n          {{ light.name }}\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\nimport RangeSlider from \"@/components/elements/RangeSlider\";\nimport Slider from \"@/components/elements/Slider\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport Utils from \"@/Utils\";\n\nexport default {\n  name: \"Animate\",\n  mixins: [Utils],\n  components: {ToggleSwitch, Slider, RangeSlider, Loading},\n  emits: ['start', 'stop'],\n  props: {\n    lights: {\n      type: Object,\n    },\n\n    group: {\n      type: Object,\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n\n    runningAnimations: {\n      type: Object,\n      default: () => {},\n    }\n  },\n\n  data() {\n    return {\n      selectedAnimation: 'color_transition',\n      animation: {},\n      selectedLights: Object.keys(this.lights).reduce((obj, lightId) => {\n        obj[lightId] = true\n        return obj\n      }, {}),\n      animations: {\n        color_transition: {\n          hue_range: this.colorConverter.ranges.hue,\n          sat_range: [\n            parseInt((this.colorConverter.ranges.sat[1] - this.colorConverter.ranges.sat[0])/2),\n            this.colorConverter.ranges.sat[1]\n          ],\n          bri_range: [\n            parseInt((this.colorConverter.ranges.bri[1] - this.colorConverter.ranges.bri[0]) * 0.75),\n            this.colorConverter.ranges.bri[1]\n          ],\n\n          hue_step: parseInt((this.colorConverter.ranges.hue[1] - this.colorConverter.ranges.hue[0]) / 25),\n          sat_step: parseInt((this.colorConverter.ranges.sat[1] - this.colorConverter.ranges.sat[0]) / 50),\n          bri_step: parseInt((this.colorConverter.ranges.bri[1] - this.colorConverter.ranges.bri[0]) / 50),\n          transition_seconds: 1,\n          duration: null,\n        },\n\n        blink: {\n          transition_seconds: 1,\n          duration: null,\n        },\n      },\n    }\n  },\n\n  computed: {\n    animationRunning() {\n      return Object.keys(this.runningAnimations).length > 0\n    },\n  },\n\n  methods: {\n    toggleSelectAll() {\n      const select = Object.values(this.selectedLights).filter((v) => v).length < Object.keys(this.lights).length\n      Object.keys(this.lights).forEach((lightId) => {\n        this.selectedLights[lightId] = select\n      })\n    },\n\n    toggleAnimation() {\n      const eventType = this.animationRunning ? 'stop' : 'start'\n      const selectedLights = Object.entries(this.selectedLights).filter((light) => light[1]).map((light) => light[0])\n      if (!selectedLights.length) {\n        this.warn('No lights have been selected')\n        return\n      }\n\n      this.$emit(eventType, {\n        lights: selectedLights,\n        animation: {\n          ...this.animations[this.selectedAnimation],\n          animation: this.selectedAnimation,\n        },\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$light-controls-bg: white;\n\n.animation-container {\n  width: 100%;\n\n  .animation-header,\n  .animation {\n    padding-bottom: 0.5em;\n    margin-bottom: 0.5em;\n    box-shadow: $border-shadow-bottom;\n  }\n}\n\n.controls {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 2.25em;\n  background: $light-controls-bg;\n  padding: 0.5em 1em;\n  border-radius: 1em;\n  box-shadow: $plugin-panel-shadow;\n\n  .selector {\n    width: 100%;\n  }\n\n  .row {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    padding: 0.5em 0;\n\n    & > div:last-child {\n      text-align: right;\n    }\n  }\n\n  .control {\n    padding-top: 0.25em;\n  }\n\n  .lights {\n    padding-top: 0.5em;\n    width: 100%;\n\n    .row {\n      display: flex;\n      align-items: center;\n    }\n\n    label {\n      width: 100%;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"range-slider\">\n    <label>\n      <input class=\"slider\" type=\"range\" :value=\"v\" :min=\"range[0]\" :max=\"range[1]\"\n             :disabled=\"disabled\" @input=\"input\" @change=\"changed\" @mouseup=\"mouseup\" @mousedown=\"mousedown\"\n             @touchstart=\"mouseup\" @touchend=\"mousedown\" :ref=\"`input_${i}`\" v-for=\"(v, i) in value\" :key=\"i\">\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"RangeSlider\",\n  emits: ['input', 'change', 'mouseup', 'mousedown'],\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    range: {\n      type: Array,\n      default: () => [0, 100],\n    },\n\n    value: {\n      type: Array,\n      default: () => [0, 100],\n    },\n  },\n\n  methods: {\n    getEvent(event) {\n      return {\n        ...event,\n        target: {\n          ...event.target,\n          value: Object.values(this.$refs).map((input) => parseFloat(input.value)).sort(),\n        }\n      }\n    },\n\n    input(event) {\n      this.$emit('input', this.getEvent(event))\n    },\n\n    changed(event) {\n      this.$emit('change', this.getEvent(event))\n    },\n\n    mouseup(event) {\n      this.$emit('mouseup', this.getEvent(event))\n    },\n\n    mousedown(event) {\n      this.$emit('mousedown', this.getEvent(event))\n    },\n  },\n\n  mounted() {\n    if (this.value) {\n      const self = this\n      this.value.forEach((v, i) => {\n        self.$refs[`input_${i}`].value = v\n      })\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.range-slider {\n  position: relative;\n  display: flex;\n\n  label {\n    height: 2em;\n  }\n\n  .slider {\n    @include appearance(none);\n    @include transition(opacity .2s);\n    background: none;\n    width: 100%;\n    height: 2em;\n    position: absolute;\n    left: 0;\n    top: 0;\n    margin: 0;\n    padding: 0;\n    border-radius: 1em;\n    outline: none;\n    pointer-events: none;\n    overflow: hidden;\n    z-index: 20;\n\n    @mixin slider-thumb {\n      @include appearance(none);\n      position: relative;\n      width: 1.5em;\n      height: 1.5em;\n      pointer-events: all;\n      border-radius: 50%;\n      border: 0;\n      background: $slider-thumb-bg;\n      cursor: pointer;\n      z-index: 10;\n      outline: 0;\n    }\n\n    &::-webkit-slider-thumb { @include slider-thumb }\n    &::-moz-range-thumb { @include slider-thumb}\n    &::-moz-range-track {\n      @include appearance(none);\n      position: relative;\n      border: 0;\n    }\n\n    &::-moz-range-progress { height: 1em; }\n\n    &:first-child {\n      z-index: 21;\n      &::-moz-range-progress { background: $slider-bg; }\n    }\n\n    &:last-child {\n      background: $slider-bg;\n      &::-moz-range-progress { background: $slider-progress-bg; }\n    }\n\n    &[disabled] {\n      @mixin no-thumb {\n        display: none;\n        width: 0;\n      }\n\n      &::-moz-range-progress { background: none; }\n      &::-webkit-slider-runnable-track { background: none; }\n      &::-moz-range-thumb { @include no-thumb; }\n      &::-webkit-slider-thumb { @include no-thumb; }\n    }\n  }\n}\n</style>","import { render } from \"./RangeSlider.vue?vue&type=template&id=0e677180&scoped=true\"\nimport script from \"./RangeSlider.vue?vue&type=script&lang=js\"\nexport * from \"./RangeSlider.vue?vue&type=script&lang=js\"\n\nimport \"./RangeSlider.vue?vue&type=style&index=0&id=0e677180&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e677180\"]])\n\nexport default __exports__","import { render } from \"./Animate.vue?vue&type=template&id=1739aaba&scoped=true\"\nimport script from \"./Animate.vue?vue&type=script&lang=js\"\nexport * from \"./Animate.vue?vue&type=script&lang=js\"\n\nimport \"./Animate.vue?vue&type=style&index=0&id=1739aaba&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1739aaba\"]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=4de1a560\"\nimport script from \"./Group.vue?vue&type=script&lang=js\"\nexport * from \"./Group.vue?vue&type=script&lang=js\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=4de1a560&lang=scss\"\nimport \"./Group.vue?vue&type=style&index=1&id=4de1a560&lang=scss\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=781dd72c&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=781dd72c&lang=scss&scoped=true\"\nimport \"./Index.vue?vue&type=style&index=1&id=781dd72c&lang=scss\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-781dd72c\"]])\n\nexport default __exports__"],"names":["ColorConverter","constructor","ranges","this","hue","sat","bri","ct","attr","Object","keys","normalize","x","xRange","yRange","hslToRgb","h","s","l","a","Math","min","f","n","k","color","max","round","rgbToHsl","r","g","b","d","parseInt","xyToRgb","y","brightness","z","Y","toFixed","X","Z","red","green","blue","pow","isNaN","map","c","rgbToXY","parseFloat","rgbToBri","getRGB","rgb","getXY","xy","toRGB","console","debug","toXY","toHSL","class","type","range","value","disabled","$emit","$event","withLabel","name","emits","props","Number","Boolean","default","Array","__exports__","render","onInput","checked","methods","event","stopPropagation","selectedGroup","groups","length","loadingGroups","colorConverter","group","lights","displayedLights","scenes","scenesByGroup","animations","animationsByGroup","config","pluginName","String","required","data","loading","mounted","anyLightsOn","groupsSorted","key","id","state","any_on","components","ToggleSwitch","MenuPanel","computed","entries","sort","localeCompare","values","title","close","selectedView","lightsSorted","light","selectedLight","collapsed","scenesSorted","scene","selectedScene","onSceneSelected","ref","expandToggle","on","target","rgbColor","onColorSelect","Loading","Slider","avg","i","reduce","sum","obj","forEach","getColor","hex","toString","join","slice","split","t","hsl","Controls","onSelect","animationRunning","toggleAnimation","selectedAnimation","color_transition","hue_range","sat_range","bri_range","hue_step","sat_step","bri_step","transition_seconds","step","duration","selectedLights","filter","v","toggleSelectAll","input","changed","mouseup","mousedown","getEvent","$refs","self","mixins","Utils","RangeSlider","runningAnimations","animation","lightId","blink","select","eventType","warn","Animate","Light","Scene","groupName","sceneId","Group","Groups","Panel","loadingLights","initialGroup","initialized","groupsByLight","groupId","initSelectedGroup","unwatch","$watch","newVal","refresh","onLightChange","plugin_name","light_id","onAnimationChange","subscribe","unmounted","unsubscribe"],"sourceRoot":""}
