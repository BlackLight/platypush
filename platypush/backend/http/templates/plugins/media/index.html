{% include 'plugins/media/search.html' %}
{% include 'plugins/media/controls.html' %}
{% include 'plugins/media/results.html' %}
{% include 'plugins/media/item.html' %}

{% for script in utils.search_directory(static_folder + '/js/plugins/media/handlers', 'js', recursive=True) %}
<script type="application/javascript" src="{{ url_for('static', filename='js/plugins/media/handlers/' + script) }}"></script>
{% endfor %}

<script type="text/x-template" id="tmpl-media">
    <div class="plugin media-plugin">
        <media-search :bus="bus"
                      :playerPlugin="player"
                      :supportedTypes="types">
        </media-search>

        <media-results :bus="bus"
                       :currentItem="currentItem"
                       :searching="loading.results"
                       :loading="loading.media"
                       :results="results">
        </media-results>

        <media-controls :bus="bus"
                        :item="currentItem">
        </media-controls>
    </div>
</script>

